<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ===== META TAGS SEO OPTIMISÉS ===== -->
    <title>CMS Accounting | Cabinet Comptable membre de l'OCT</title>
    <meta name="description" content="Cabinet comptable  en Tunisie : création d'entreprise, comptabilité, fiscalité, gestion sociale. Membre de l'Ordre des Comptables de Tunisie. Accompagnement sur mesure.">
    <meta name="keywords" content="comptable Tunisie, expert-comptable, fiscalité Tunisie, création entreprise Tunisie, gestion sociale, audit comptable, conseil entreprise">
    <meta name="author" content="CMS Comptable - Shili Mohamed">
    <meta name="robots" content="index, follow">
    <meta name="geo.region" content="TN">
    <meta name="geo.placename" content="Kairouan">
    <meta name="geo.position" content="35.6781;10.0964">
    <meta name="ICBM" content="35.6781, 10.0964">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://cmsaccounting.tn/">
    <meta property="og:title" content="CMS Comptable Tunisie | Votre Partenaire Comptable de Confiance">
    <meta property="og:description" content="comptabilité en Tunisie. Solutions complètes en comptabilité, fiscalité et création d'entreprise. 100% Sérénité.">
    <meta property="og:image" content="https://cmsaccounting.tn/images/og-image.jpg">
    <meta property="og:locale" content="fr_TN">
    <meta property="og:site_name" content="CMS Comptable Tunisie">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://cmsaccounting.tn/">
    <meta property="twitter:title" content="CMS Comptable Tunisie | Votre Partenaire Comptable de Confiance">
    <meta property="twitter:description" content="comptabilité en Tunisie. Solutions complètes en comptabilité, fiscalité et création d'entreprise.">
    <meta property="twitter:image" content="https://cmsaccounting.tn/images/twitter-image.jpg">
    <meta property="twitter:creator" content="@cmscomptable">
    
    <!-- Structured Data Schema.org -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ProfessionalService",
        "name": "CMS Comptable Tunisie",
        "description": "Cabinet comptable en Tunisie",
        "url": "https://cmsaccounting.tn",
        "telephone": "+216-53-810-911",
        "email": "contact@cmsaccounting.tn",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "Avenue Farhat Hached",
            "addressLocality": "Bouhajla Kairouan",
            "postalCode": "3180",
            "addressCountry": "TN"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "35.6781",
            "longitude": "10.0964"
        },
        "openingHours": "Mo-Fr 08:00-17:30, Sa 08:00-12:30",
        "priceRange": "$$",
        "image": "https://cmsaccounting.tn/images/logo.jpg",
        "areaServed": "Tunisie",
        "serviceType": "Comptabilité, Fiscalité, Création d'entreprise, Audit, Conseil",
        "memberOf": {
            "@type": "Organization",
            "name": "Ordre des Comptables de Tunisie"
        }
    }
    </script>
    
    <!-- ===== LIENS EXTERNES ===== -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    
    <style>
        /* ===== VARIABLES CSS OPTIMISÉES ===== */
        :root {
            /* Palette de couleurs principale */
            --primary: #1a5276;
            --primary-dark: #144262;
            --primary-light: #2874a6;
            --secondary: #2e86ab;
            --accent: #e74c3c;
            --accent-dark: #c0392b;
            --accent-light: #ff6b6b;
            --gold: #f39c12;
            --gold-dark: #e67e22;
            --success: #27ae60;
            --success-light: #2ecc71;
            --warning: #f39c12;
            --info: #3498db;
            --info-light: #5dade2;
            
            /* Tons de gris */
            --gray-50: #f8f9fa;
            --gray-100: #f1f2f6;
            --gray-200: #e9ecef;
            --gray-300: #dee2e6;
            --gray-400: #ced4da;
            --gray-500: #6c757d;
            --gray-600: #495057;
            --gray-700: #343a40;
            --gray-800: #212529;
            --gray-900: #1a1d20;
            
            /* Couleurs de fond */
            --dark: #2c3e50;
            --dark-light: #34495e;
            --light: #ffffff;
            
            /* Bordures */
            --border: #e9ecef;
            --border-dark: #dee2e6;
            
            /* Ombres */
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 6px 12px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            
            /* Dégradés */
            --gradient-primary: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            --gradient-accent: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
            --gradient-gold: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
            --gradient-success: linear-gradient(135deg, var(--success) 0%, var(--success-light) 100%);
            --gradient-dark: linear-gradient(135deg, var(--dark) 0%, var(--dark-light) 100%);
            
            /* Espacement */
            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 2rem;
            --spacing-lg: 3rem;
            --spacing-xl: 4rem;
            --spacing-xxl: 6rem;
            
            /* Bordures arrondies */
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            --radius-full: 50%;
            
            /* Transitions */
            --transition-fast: 0.2s ease;
            --transition: 0.3s ease;
            --transition-slow: 0.5s ease;
            
            /* Animation de menu mobile */
            --menu-speed: 0.3s;
            --menu-easing: cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ===== RÉINITIALISATION ET STYLES DE BASE ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
            scroll-padding-top: 180px;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.7;
            color: var(--gray-700);
            background-color: var(--light);
            font-weight: 400;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body.menu-open {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }

        h1, h2, h3, h4, h5, h6 {
            font-weight: 800;
            line-height: 1.2;
            color: var(--gray-900);
            margin-bottom: var(--spacing-md);
        }

        h1 { font-size: 3.5rem; }
        h2 { font-size: 2.8rem; }
        h3 { font-size: 2.2rem; }
        h4 { font-size: 1.8rem; }
        h5 { font-size: 1.4rem; }
        h6 { font-size: 1.1rem; }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--gray-600);
        }

        a {
            color: var(--primary);
            text-decoration: none;
            transition: color var(--transition);
        }

        a:hover {
            color: var(--primary-dark);
        }

        img {
            max-width: 100%;
            height: auto;
        }

        ul, ol {
            margin-bottom: var(--spacing-md);
            padding-left: var(--spacing-lg);
        }

        li {
            margin-bottom: var(--spacing-sm);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }

        /* ===== ACCESSIBILITÉ ===== */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .focus-visible {
            outline: 3px solid var(--primary-light);
            outline-offset: 2px;
        }

        /* ===== BOUTONS ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
            padding: 1rem 2rem;
            border: none;
            border-radius: var(--radius-lg);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all var(--transition);
            position: relative;
            overflow: hidden;
            text-align: center;
            line-height: 1.4;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
            touch-action: manipulation;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.6s;
        }

        .btn:hover::after {
            left: 100%;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .btn-accent {
            background: var(--gradient-accent);
            color: white;
            box-shadow: var(--shadow);
        }

        .btn-accent:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn-secondary:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-3px);
        }

        .btn-lg {
            padding: 1.25rem 2.5rem;
            font-size: 1.1rem;
        }

        .btn-sm {
            padding: 0.75rem 1.5rem;
            font-size: 0.9rem;
        }

        .btn-full {
            width: 100%;
        }

        /* ===== TOP BAR AVEC CONTACT ET BADGE ===== */
        .top-bar {
            background: var(--gradient-primary);
            color: white;
            padding: 0.5rem 0;
            font-size: 0.9rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1100;
            box-shadow: var(--shadow-sm);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .top-bar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
 width: 100%; /* Ajouté */
    max-width: 100%; /* Optionnel */
        }

        .top-bar-contact {
            display: flex;
            gap: var(--spacing-lg);
            align-items: center;
        }

        .top-bar-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: rgba(255,255,255,0.9);
        }

        .top-bar-item i {
            color: var(--gold);
            font-size: 0.8rem;
        }

        .top-bar-item a {
            color: white;
            text-decoration: none;
            transition: color var(--transition-fast);
        }

        .top-bar-item a:hover {
            color: var(--gold);
        }

        .top-badge {
            background: var(--gold);
            color: white;
            padding: 0.3rem 1rem;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border: 2px solid rgba(255,255,255,0.2);
            box-shadow: var(--shadow);
        }

        .top-badge i {
            font-size: 0.7rem;
        }

        /* ===== NAVIGATION PRINCIPALE - AMÉLIORÉE ===== */
        .navbar {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow);
            position: fixed;
            top: 40px;
            left: 0;
            right: 0;
            z-index: 1099;
            transition: all var(--transition);
            -webkit-backdrop-filter: blur(10px);
            padding: 1rem 0;
        }

        .navbar.scrolled {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: var(--shadow-lg);
        }

        .navbar.hidden {
            transform: translateY(-100%);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
margin:10px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: var(--spacing-XL);
            text-decoration: none;
            transition: transform var(--transition);
            z-index: 1101;
        }

        .logo:hover {
            transform: translateY(-2px);
        }

        .logo-img {
            width: 170px;
            height: 50px;
            border-radius: none;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray-700);
            font-weight: 900;
            font-size: 1.6rem;
            border: none ;
            box-shadow: var(--shadow-lg);
            transition: all var(--transition);
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-main {
            font-size: 1.8rem;
            font-weight: 900;
            color: var(--gray-700);
            line-height: 1.1;
            background: none;
            -webkit-background-clip: text;
            -webkit-text-fill-color: var(--primary);
        }

        .logo-subtitle {
            font-size: 0.9rem;
            color: var(--gray-500);
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: var(--spacing-xxl);
            align-items: center;
            margin:0;
            padding: 0;
        }

        .nav-menu a {
            text-decoration: none;
            color: var(--gray-700);
            font-weight: 600;
            font-size: 0.95rem;
            transition: all var(--transition);
            position: relative;
            padding: 0.5rem 0;
            text-transform: uppercase;
            letter-spacing: 0.9px;
        }

        .nav-menu a:hover {
            color: var(--primary);
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background: var(--gradient-primary);
            transition: width var(--transition);
            border-radius: 2px;
        }

        .nav-menu a:hover::after {
            width: 100%;
        }

        .nav-menu a.active {
            color: var(--primary);
            font-weight: 700;
        }

        .nav-menu a.active::after {
            width: 100%;
        }

        /* ===== MENU MOBILE INTERACTIF ET MODERNE ===== */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            width: 48px;
            height: 48px;
            position: relative;
            cursor: pointer;
            z-index: 1102;
            padding: 8px;
            border-radius: var(--radius-sm);
            transition: all var(--transition-fast);
        }

        .mobile-menu-btn:hover {
            background: var(--gray-100);
        }

        .mobile-menu-btn .hamburger {
            position: relative;
            width: 30px;
            height: 24px;
            margin: 0 auto;
        }

        .mobile-menu-btn .hamburger span {
            position: absolute;
            width: 100%;
            height: 3px;
            background: var(--primary);
            border-radius: 3px;
            left: 0;
            transition: all var(--menu-speed) var(--menu-easing);
        }

        .mobile-menu-btn .hamburger span:nth-child(1) {
            top: 0;
        }

        .mobile-menu-btn .hamburger span:nth-child(2) {
            top: 10px;
        }

        .mobile-menu-btn .hamburger span:nth-child(3) {
            top: 20px;
        }

        .mobile-menu-btn.active .hamburger span:nth-child(1) {
            transform: rotate(45deg);
            top: 10px;
            background: white;
        }

        .mobile-menu-btn.active .hamburger span:nth-child(2) {
            opacity: 0;
            transform: translateX(-20px);
        }

        .mobile-menu-btn.active .hamburger span:nth-child(3) {
            transform: rotate(-45deg);
            top: 10px;
            background: white;
        }

        /* Menu mobile overlay */
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            z-index: 1098;
            opacity: 0;
            visibility: hidden;
            transition: all var(--menu-speed) var(--menu-easing);
        }

        .mobile-menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Menu mobile container */
        .mobile-menu-container {
            position: fixed;
            top: 0;
            right: -100%;
            width: 90%;
            max-width: 400px;
            height: 100%;
            background: var(--gradient-primary);
            z-index: 1099;
            padding: 100px 40px 40px;
            overflow-y: auto;
            transition: right var(--menu-speed) var(--menu-easing);
            box-shadow: -5px 0 30px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
        }

        .mobile-menu-container.active {
            right: 0;
        }

        .mobile-menu-header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            padding: 30px 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(0, 0, 0, 0.1);
        }

        .mobile-logo {
            color: white;
            font-size: 1.5rem;
            font-weight: 800;
            text-decoration: none;
        }

        .mobile-menu-close {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            width: 44px;
            height: 44px;
            border-radius: var(--radius-full);
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mobile-menu-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        /* Navigation mobile */
        .mobile-nav-menu {
            list-style: none;
            margin: 0;
            padding: 0;
            flex: 1;
        }

        .mobile-nav-item {
            margin-bottom: 4px;
            opacity: 0;
            transform: translateX(20px);
            transition: all var(--transition) var(--menu-easing);
            transition-delay: calc(0.1s * var(--item-index));
        }

        .mobile-nav-item.active {
            opacity: 1;
            transform: translateX(0);
        }

        .mobile-nav-link {
            display: flex;
            align-items: center;
            gap: 16px;
            color: white;
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: 600;
            padding: 16px 20px;
            border-radius: var(--radius-lg);
            transition: all var(--transition-fast);
            position: relative;
            overflow: hidden;
        }

        .mobile-nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s;
        }

        .mobile-nav-link:hover::before {
            left: 100%;
        }

        .mobile-nav-link:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(10px);
        }

        .mobile-nav-link.active {
            background: rgba(255, 255, 255, 0.15);
            color: var(--gold);
        }

        .mobile-nav-link i {
            width: 24px;
            font-size: 1.2rem;
            color: var(--gold);
        }

        /* Séparateur */
        .mobile-menu-divider {
            height: px;
            background: rgba(255, 255, 255, 0.2);
            margin: 4px 0;
            opacity: 0;
            transform: translateX(20px);
            transition: all var(--transition) var(--menu-easing);
            transition-delay: 0.4s;
        }

        .mobile-menu-divider.active {
            opacity: 1;
            transform: translateX(0);
        }

        /* Contact mobile */
        .mobile-contact-section {
            opacity: 0;
            transform: translateX(20px);
            transition: all var(--transition) var(--menu-easing);
            transition-delay: 0.5s;
        }

        .mobile-contact-section.active {
            opacity: 1;
            transform: translateX(0);
        }

        .mobile-contact-title {
            color: var(--gold);
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .mobile-contact-info {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .mobile-contact-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.95rem;
        }

        .mobile-contact-item i {
            color: var(--gold);
            margin-top: 0px;
            flex-shrink: 0;
        }

        .mobile-contact-link {
            color: white;
            text-decoration: none;
            transition: color var(--transition-fast);
        }

        .mobile-contact-link:hover {
            color: var(--gold);
        }

        /* CTA mobile */
        .mobile-menu-cta {
            margin-top: 30px;
            opacity: 0;
            transform: translateX(20px);
            transition: all var(--transition) var(--menu-easing);
            transition-delay: 0.6s;
        }

        .mobile-menu-cta.active {
            opacity: 1;
            transform: translateX(0);
        }

        .mobile-menu-cta .btn {
            width: 100%;
            justify-content: center;
        }

        /* Indicateur de défilement */
        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 0.8rem;
            opacity: 0.8;
            text-align: center;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            40% {
                transform: translateX(-50%) translateY(-10px);
            }
            60% {
                transform: translateX(-50%) translateY(-5px);
            }
        }

        /* ===== HERO SECTION ===== */
        .hero {
            background: var(--gradient-primary);
            color: white;
            padding: 220px 0 80px;
            position: relative;
            overflow: hidden;
            margin-top: 0;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255,255,255,0.05) 0%, transparent 50%);
        }

        .hero-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        .hero-badge {
            display: inline-block;
            background: rgba(255,255,255,0.15);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 30px;
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: var(--spacing-xl);
            border: 1px solid rgba(255,255,255,0.3);
            backdrop-filter: blur(10px);
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: var(--spacing-md);
            line-height: 1.1;
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .hero-subtitle {
            font-size: 1.3rem;
            margin-bottom: var(--spacing-xl);
            opacity: 0.95;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            font-weight: 300;
            line-height: 1.6;
            color: white;
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--spacing-xl);
            margin: var(--spacing-xl) 0;
            padding: var(--spacing-lg);
            background: rgba(255,255,255,0.1);
            border-radius: var(--radius-lg);
            backdrop-filter: blur(10px);
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--gold);
            display: block;
            line-height: 1;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 1rem;
            opacity: 0.9;
            font-weight: 500;
        }

        .hero-cta {
            display: flex;
            gap: var(--spacing-md);
            justify-content: center;
            flex-wrap: wrap;
            margin-top: var(--spacing-xl);
        }

        /* ===== SECTIONS GÉNÉRIQUES ===== */
        .section {
            padding: var(--spacing-xxl) 0;
            position: relative;
        }

        .section-title {
            text-align: center;
            margin-bottom: var(--spacing-xl);
            position: relative;
        }

        .section-title h2 {
            font-size: 2.8rem;
            font-weight: 900;
            color: var(--primary);
            margin-bottom: var(--spacing-md);
            line-height: 1.1;
        }

        .section-title p {
            font-size: 1.2rem;
            color: var(--gray-500);
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 4px;
            background: var(--gradient-accent);
            border-radius: 2px;
        }

        .section-bg-light {
            background: linear-gradient(135deg, var(--gray-50) 0%, var(--light) 100%);
        }

        .section-bg-primary {
            background-color: var(--light);
            color: white;
        }

        .section-bg-primary .section-title h2 {
            color: white;
        }

        .section-bg-primary .section-title p {
            color: rgba(255,255,255,0.4);
        }

        /* ===== SECTION CABINET OPTIMISÉE ===== */
        .cabinet-hero {
            text-align: center;
            margin-bottom: var(--spacing-xl);
        }

        .cabinet-hero h2 {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: var(--spacing-sm);
        }

        .cabinet-hero p {
            font-size: 1.3rem;
            color: var(--gray-600);
            max-width: 800px;
            margin: 0 auto;
        }

        .cabinet-parallel-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-top: 3rem;
        }

        .cabinet-left-column {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border);
        }

        .cabinet-text-block h3 {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 2rem;
            line-height: 1.3;
            position: relative;
            padding-bottom: 1rem;
        }

        .cabinet-text-block h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 80px;
            height: 4px;
            background: var(--gradient-accent);
            border-radius: 2px;
        }

        .cabinet-text-block p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
            color: var(--gray-600);
        }

        .cabinet-text-block strong {
            color: var(--primary);
            font-weight: 700;
        }

        .cabinet-right-column {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border);
            display: flex;
            align-items: center;
        }

        .cabinet-values-block {
            width: 100%;
        }

        .cabinet-value-item {
            display: flex;
            align-items: flex-start;
            gap: 1.5rem;
            padding: 1.8rem;
            margin-bottom: 1.5rem;
            background: var(--gray-100);
            border-radius: 15px;
            transition: all 0.3s ease;
            border-left: 4px solid var(--primary);
        }

        .cabinet-value-item:hover {
            transform: translateX(10px);
            background: white;
            box-shadow: var(--shadow-md);
        }

        .cabinet-value-item:last-child {
            margin-bottom: 0;
        }

        .cabinet-value-item .value-icon {
            width: 60px;
            height: 60px;
            background: var(--gradient-primary);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .cabinet-value-item .value-content h4 {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .cabinet-value-item .value-content p {
            color: var(--gray-600);
            line-height: 1.6;
            margin: 0;
            font-size: 1rem;
        }

        /* Section CMS ACCOUNTING */
        .cms-accounting-section {
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%);
            color: white;
            padding: var(--spacing-xl) 0;
            margin: var(--spacing-xl) 0;
            border-radius: var(--radius-xl);
            position: relative;
            overflow: hidden;
        }

        .cms-accounting-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.05)"/></svg>');
            background-size: cover;
        }

        .cms-accounting-content {
            position: relative;
            z-index: 1;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .cms-accounting-content h3 {
            font-size: 2.5rem;
            color: white;
            margin-bottom: var(--spacing-md);
        }

        .cms-accounting-content p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: var(--spacing-lg);
            line-height: 1.8;
        }

        /* Section Principes */
        .principles-section {
            margin-top: var(--spacing-xl);
        }

        .principles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-lg);
            margin-top: var(--spacing-lg);
        }

        .principle-card {
            background: white;
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: all var(--transition);
        }

        .principle-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .principle-icon {
            width: 60px;
            height: 60px;
            background: var(--gradient-primary);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin-bottom: var(--spacing-md);
        }

        .principle-card h4 {
            font-size: 1.3rem;
            color: var(--primary);
            margin-bottom: var(--spacing-sm);
        }

        .principle-card p {
            color: var(--gray-600);
            line-height: 1.6;
            margin: 0;
        }

        /* ===== SERVICES SECTION ===== */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: var(--spacing-xl);
            margin-top: var(--spacing-xl);
        }

        .service-card {
            background: white;
            padding: var(--spacing-xl);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow);
            transition: all var(--transition);
            border: 1px solid var(--border);
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: var(--gradient-primary);
            transform: scaleX(0);
            transition: transform var(--transition);
        }

        .service-card:hover::before {
            transform: scaleX(1);
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .service-icon {
            width: 80px;
            height: 80px;
            background: var(--gray-100);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: var(--spacing-lg);
            font-size: 2rem;
            color: var(--primary);
            transition: all var(--transition);
        }

        .service-card:hover .service-icon {
            background: var(--gradient-primary);
            color: white;
            transform: scale(1.1);
        }

        .service-card h3 {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            color: var(--dark);
        }

        .service-card p {
            color: var(--gray-600);
            margin-bottom: var(--spacing-lg);
            line-height: 1.6;
            flex-grow: 1;
        }

        .service-features {
            list-style: none;
            margin: var(--spacing-lg) 0;
            padding: 0;
            text-align: left;
        }

        .service-features li {
            padding: 0.8rem 0;
            color: var(--gray-600);
            position: relative;
            padding-left: 2.2rem;
            font-weight: 500;
            border-bottom: 1px solid var(--gray-200);
        }

        .service-features li:last-child {
            border-bottom: none;
        }

        .service-features li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: bold;
            font-size: 1.1rem;
            background: var(--gray-100);
            width: 28px;
            height: 28px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .service-cta {
            margin-top: auto;
            padding-top: var(--spacing-lg);
            border-top: 1px solid var(--gray-200);
        }

        .expertise-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-xl);
            margin-top: var(--spacing-xl);
        }

        .expertise-card {
            background: white;
            padding: var(--spacing-xl);
            border-radius: var(--radius-xl);
            text-align: center;
            box-shadow: var(--shadow);
            transition: all var(--transition);
            border: 1px solid var(--border);
        }

        .expertise-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .expertise-icon {
            width: 80px;
            height: 80px;
            background: var(--gradient-primary);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--spacing-lg);
            color: white;
            font-size: 2rem;
        }

        .expertise-card h3 {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            color: var(--dark);
        }

        .expertise-card p {
            color: var(--gray-500);
            line-height: 1.6;
        }

        /* ===== SECTION PROCESSUS AMÉLIORÉE ===== */
        .section-processus {
            background: linear-gradient(135deg, var(--gray-50) 0%, var(--light) 100%);
            position: relative;
            overflow: hidden;
        }

        .section-processus::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 10% 20%, rgba(26, 82, 118, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 90% 80%, rgba(231, 76, 60, 0.03) 0%, transparent 50%);
            z-index: 1;
        }

        .process-steps {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--spacing-md);
            margin-top: var(--spacing-xl);
            position: relative;
            z-index: 2;
        }

        .process-steps::before {
            content: '';
            position: absolute;
            top: 70px;
            left: 50px;
            right: 50px;
            height: 4px;
            background: linear-gradient(90deg, 
                var(--primary-light) 0%, 
                var(--secondary) 25%, 
                var(--info-light) 50%, 
                var(--accent) 75%, 
                var(--accent-dark) 100%);
            z-index: 1;
            border-radius: 2px;
            opacity: 0.8;
        }

        .process-step {
            background: var(--light);
            text-align: center;
            position: relative;
            z-index: 2;
            padding: var(--spacing-lg);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: all var(--transition);
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100%;
        }

        .process-step:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-light);
        }

        .process-step:hover .step-number {
            background: var(--gradient-accent);
            transform: scale(1.1);
            box-shadow: var(--shadow-xl);
        }

        .step-number-container {
            position: relative;
            margin-bottom: var(--spacing-lg);
        }

        .step-number {
            width: 90px;
            height: 90px;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.2rem;
            font-weight: 500;
            box-shadow: var(--shadow-lg);
            border: 6px solid var(--light);
            transition: all var(--transition);
            position: relative;
            z-index: 2;
        }

        .step-number::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--secondary) 100%);
            border-radius: var(--radius-full);
            z-index: -1;
            opacity: 0;
            transition: opacity var(--transition);
        }

        .process-step:hover .step-number::before {
            opacity: 0.3;
        }

        .step-connector {
            position: absolute;
            top: 50%;
            right: -50%;
            width: 100%;
            height: 4px;
            background: var(--gray-300);
            z-index: 1;
        }

        .process-step:last-child .step-connector {
            display: none;
        }

        .step-icon {
            width: 50px;
            height: 50px;
            background: var(--gray-100);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: var(--spacing-md) auto;
            color: var(--primary);
            font-size: 1.5rem;
            transition: all var(--transition);
        }

        .process-step:hover .step-icon {
            background: var(--gradient-primary);
            color: white;
            transform: rotate(15deg);
        }

        .process-step h3 {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            color: var(--primary);
            line-height: 1.3;
        }

        .process-step p {
            color: var(--gray-600);
            line-height: 1.6;
            font-size: 1rem;
            margin-bottom: var(--spacing-lg);
            flex-grow: 1;
        }

        .step-features {
            list-style: none;
            margin: var(--spacing-md) 0 0 0;
            padding: 0;
            text-align: left;
            width: 100%;
        }

        .step-features li {
            padding: 0.5rem 0;
            color: var(--gray-600);
            position: relative;
            padding-left: 1.8rem;
            font-size: 0.9rem;
            border-bottom: 1px dashed var(--gray-200);
        }

        .step-features li:last-child {
            border-bottom: none;
        }

        .step-features li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: bold;
            font-size: 1rem;
        }

        .step-badge {
            display: inline-block;
            background: var(--gray-100);
            color: var(--gray-700);
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-top: var(--spacing-sm);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all var(--transition);
        }

        .step-badge-wrapper {
            margin-top: auto;
            padding-top: var(--spacing-md);
        }

        .process-step:hover .step-badge {
            background: var(--primary);
            color: white;
        }

        /* Animation pour les étapes */
        @keyframes stepPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .process-step.animate-pulse {
            animation: stepPulse 2s infinite;
        }

        /* Styles spécifiques pour la section processus */
        #processus .section-title h2 {
            color: var(--primary);
        }

        #processus .section-title p {
            color: var(--gray-600);
        }

        #processus .section-title::after {
            background: var(--gradient-accent);
        }

        /* Ajouter des indicateurs visuels pour les étapes */
        .process-step:nth-child(1) .step-number {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
        }

        .process-step:nth-child(2) .step-number {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--info-light) 100%);
        }

        .process-step:nth-child(3) .step-number {
            background: linear-gradient(135deg, var(--info) 0%, var(--info-light) 100%);
        }

        .process-step:nth-child(4) .step-number {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
        }

        /* ===== ACTUALITÉS AVEC PARTAGE EMAIL ===== */
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: var(--spacing-xl);
            margin-top: var(--spacing-xl);
        }

        .news-card {
            background: white;
            border-radius: var(--radius-xl);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all var(--transition);
            border: 1px solid var(--border);
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .news-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .news-header {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            padding: var(--spacing-lg);
            background: var(--gradient-primary);
            color: white;
        }

        .news-date {
            text-align: center;
            flex-shrink: 0;
        }

        .news-date .day {
            font-size: 2.2rem;
            font-weight: 900;
            line-height: 1;
            display: block;
        }

        .news-date .month {
            font-size: 2rem;
            font-weight: 700;
            text-transform: uppercase;
            opacity: 0.9;
        }

        .news-title {
            flex: 1;
        }

        .news-title h3 {
            font-size: 1.3rem;
            font-weight: 200;
            margin-bottom: 0.5rem;
            line-height: 1.3;
        }

        .news-content {
            padding: var(--spacing-lg);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .news-content p {
            color: var(--gray-600);
            margin-bottom: var(--spacing-md);
            line-height: 1.6;
            flex-grow: 1;
        }

        .news-tags {
            display: flex;
            gap: 0.8rem;
            margin-bottom: var(--spacing-md);
            flex-wrap: wrap;
        }

        .news-tag {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .news-tag.fiscal { background: #e8f4fd; color: var(--info); }
        .news-tag.legal { background: #fef9e7; color: var(--warning); }
        .news-tag.social { background: #e8f6f3; color: var(--success); }
        
        .news-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
            padding-top: var(--spacing-md);
            border-top: 1px solid var(--gray-200);
        }

        .news-meta {
            display: flex;
            gap: var(--spacing-md);
            font-size: 0.75rem;
            color: var(--gray-500);
        }

        .news-meta i {
            margin-right: 0.4rem;
        }

        /* Boutons de partage dans les cartes */
        .news-share-buttons {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            margin-top: var(--spacing-sm);
        }

        .share-btn {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all var(--transition);
            border: none;
        }

        .share-btn:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow);
        }

        .share-btn.whatsapp { background: #25D366; }
        .share-btn.facebook { background: #1877F2; }
        .share-btn.linkedin { background: #0077B5; }
        .share-btn.twitter { background: #1DA1F2; }
        .share-btn.email { background: #EA4335; }
        .share-btn.copy { background: var(--gray-500); }

        .share-count {
            font-size: 0.75rem;
            color: var(--gray-500);
            font-weight: 600;
            margin-left: 0.5rem;
        }

        /* ===== FOOTER ===== */
        .footer {
            background: var(--gradient-dark);
            color: white;
            padding: 40px 0 20px;
            position: relative;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: var(--gradient-accent);
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 20px;
        }

        .footer-column h3 {
            color: var(--gold);
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .footer-about p {
            margin-bottom: 15px;
            line-height: 1.5;
            font-size: 0.9rem;
            color: white;
            opacity: 0.9;
        }

        .footer-badges {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .footer-badge {
            background: rgba(255,255,255,0.1);
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .footer-contact li {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 10px;
            line-height: 1.4;
            font-size: 0.9rem;
        }

        .footer-contact i {
            color: white;
            margin-top: 2px;
            flex-shrink: 0;
            font-size: 1rem;
        }

        .footer-links {
            list-style: none;
            padding: 0;
        }

        .footer-links li {
            margin-bottom: 6px;
        }

        .footer-links a {
            color: rgba(255,255,255,0.9);
            text-decoration: none;
            transition: all var(--transition);
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.9rem;
        }

        .footer-links a:hover {
            color: var(--gold);
            transform: translateX(3px);
        }

        .footer-links a i {
            font-size: 0.75rem;
            color: var(--gold);
        }

        .social-links {
            display: flex;
            gap: 8px;
            margin-top: 15px;
        }

        .social-link {
            width: 35px;
            height: 35px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: all var(--transition);
            font-size: 1rem;
        }

        .social-link:hover {
            background: var(--gold);
            transform: translateY(-2px);
        }

        .footer-newsletter {
            margin-top: 15px;
        }

        .newsletter-form {
            display: flex;
            gap: 8px;
        }

        .newsletter-input {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 6px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 0.85rem;
        }

        .newsletter-input::placeholder {
            color: rgba(255,255,255,0.6);
        }

        .newsletter-button {
            background: var(--gold);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            transition: all var(--transition);
            font-weight: 600;
            font-size: 0.85rem;
            white-space: nowrap;
        }

        .newsletter-button:hover {
            background: var(--gold-dark);
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            color: white;
            font-size: 0.9rem;
        }
        
        /* ===== ÉTATS ET MESSAGES ===== */
        .loading {
            display: none;
            text-align: center;
            padding: var(--spacing-xl);
        }

        .spinner {
            border: 4px solid var(--gray-200);
            border-top: 4px solid var(--primary);
            border-radius: var(--radius-full);
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto var(--spacing-md);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .success-message,
        .error-message {
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            margin-top: var(--spacing-lg);
            display: none;
            border-left: 4px solid;
            animation: fadeIn 0.3s ease;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            border-left-color: var(--success);
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            border-left-color: var(--accent);
        }

        /* ===== BOUTON RETOUR HAUT ===== */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: var(--radius-full);
            cursor: pointer;
            transition: all var(--transition);
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .back-to-top:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
        }

        /* ===== ANIMATIONS ===== */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }

        /* ===== MODAL D'ACTUALITÉS AVEC PARTAGE EMAIL ===== */
        .news-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1004;
            display: none;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-md);
        }

        .news-modal.active {
            display: flex;
        }

        .news-modal-content {
            background: white;
            border-radius: var(--radius-xl);
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: fadeIn 0.3s ease;
        }

        .news-modal-header {
            padding: var(--spacing-xl);
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--radius-xl) var(--radius-xl) 0 0;
            position: relative;
        }

        .news-modal-date {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: var(--spacing-sm);
        }

        .news-modal-title {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: var(--spacing-md);
        }

        .news-modal-body {
            padding: var(--spacing-xl);
        }

        .news-modal-body p {
            margin-bottom: var(--spacing-md);
            line-height: 1.8;
        }

        .news-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all var(--transition);
        }

        .news-modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        /* Section partage dans le modal */
        .news-modal-share {
            margin-top: var(--spacing-xl);
            padding-top: var(--spacing-lg);
            border-top: 1px solid var(--gray-200);
        }

        .share-section-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .share-section-title i {
            color: var(--primary);
        }

        .modal-share-buttons {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .modal-share-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.25rem;
            border-radius: var(--radius-md);
            color: white;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all var(--transition);
            border: none;
            cursor: pointer;
        }

        .modal-share-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        .modal-share-btn.whatsapp { background: #25D366; }
        .modal-share-btn.facebook { background: #1877F2; }
        .modal-share-btn.linkedin { background: #0077B5; }
        .modal-share-btn.twitter { background: #1DA1F2; }
        .modal-share-btn.email { background: #EA4335; }
        .modal-share-btn.copy { background: var(--gray-600); }

        .share-stats {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-top: var(--spacing-md);
            font-size: 0.9rem;
            color: var(--gray-600);
        }

        .share-stat {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .share-stat i {
            color: var(--primary);
        }

        /* Notification de copie de lien */
        .copy-notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-lg);
            z-index: 1005;
            display: none;
            align-items: center;
            gap: 0.75rem;
            animation: slideInRight 0.3s ease;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Modal de partage par email - VERSION AMÉLIORÉE */
        .email-share-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1006;
            display: none;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-md);
        }

        .email-share-modal.active {
            display: flex;
        }

        .email-share-content {
            background: white;
            border-radius: var(--radius-xl);
            max-width: 500px;
            width: 100%;
            padding: var(--spacing-xl);
            position: relative;
            animation: fadeIn 0.3s ease;
            box-shadow: var(--shadow-xl);
        }

        .email-share-header {
            text-align: center;
            margin-bottom: var(--spacing-lg);
        }

        .email-share-header h3 {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: var(--spacing-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
        }

        .email-share-header p {
            color: var(--gray-500);
            font-size: 1rem;
            line-height: 1.6;
        }

        .email-share-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--gray-100);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            color: var(--gray-600);
            font-size: 1.5rem;
            cursor: pointer;
            transition: all var(--transition);
        }

        .email-share-close:hover {
            background: var(--gray-200);
            transform: rotate(90deg);
        }

        .email-form-group {
            margin-bottom: var(--spacing-md);
        }

        .email-form-group label {
            display: block;
            margin-bottom: var(--spacing-sm);
            font-weight: 600;
            color: var(--dark);
            font-size: 1rem;
        }

        .email-form-control {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid var(--gray-300);
            border-radius: var(--radius-md);
            font-size: 1rem;
            transition: all var(--transition);
            font-family: 'Inter', sans-serif;
        }

        .email-form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(26, 82, 118, 0.1);
        }

        

        .email-share-preview h4 {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .email-share-preview p {
            font-size: 0.9rem;
            color: var(--gray-600);
            line-height: 1.5;
            margin: 0;
        }

        .email-share-info {
            margin-bottom: var(--spacing-md);
            padding: var(--spacing-md);
            background: var(--gray-50);
            border-radius: var(--radius-md);
            border-left: 4px solid var(--success);
        }

        .email-share-info p {
            font-size: 0.9rem;
            color: var(--gray-600);
            line-height: 1.5;
            margin: 0;
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
        }

        .email-share-info i {
            color: var(--info);
            margin-top: 0.2rem;
            flex-shrink: 0;
        }

        .email-form-actions {
            display: flex;
            gap: var(--spacing-md);
            margin-top: var(--spacing-xl);
        }

        .email-share-btn {
            flex: 1;
            padding: 1rem;
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all var(--transition);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .email-share-btn.primary {
            background: var(--gradient-primary);
            color: white;
        }

        .email-share-btn.primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        .email-share-btn.secondary {
            background: var(--gray-100);
            color: var(--gray-700);
        }

        .email-share-btn.secondary:hover {
            background: var(--gray-200);
        }

        /* ===== SECTION RENDEZ-VOUS AMÉLIORÉE ===== */
        .appointment-section {
            background: linear-gradient(135deg, var(--gray-100) 0%, white 100%);
            position: relative;
        }

        .appointment-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-xl);
            align-items: start;
            background: white;
            padding: var(--spacing-xl);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            margin-top: var(--spacing-xl);
        }

        .form-container {
            background: white;
            padding: var(--spacing-xl);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            position: sticky;
            top: 180px;
        }

        .form-header {
            text-align: center;
            margin-bottom: var(--spacing-xl);
        }

        .form-header h3 {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: var(--spacing-md);
        }

        .form-header p {
            color: var(--gray-500);
            font-size: 1.1rem;
        }

        .form-group {
            margin-bottom: var(--spacing-lg);
        }

        .form-group label {
            display: block;
            margin-bottom: var(--spacing-sm);
            font-weight: 600;
            color: var(--dark);
            font-size: 1.05rem;
        }

        .form-control {
            width: 100%;
            padding: 1rem 1.2rem;
            border: 2px solid var(--gray-300);
            border-radius: var(--radius-md);
            font-size: 1rem;
            transition: all var(--transition);
            font-family: 'Inter', sans-serif;
            background: white;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(26, 82, 118, 0.1);
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        .service-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--spacing-sm);
            margin: var(--spacing-md) 0;
        }

        .service-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.8rem;
            padding: 1rem;
            background: var(--gray-100);
            border-radius: var(--radius-md);
            transition: all var(--transition);
            cursor: pointer;
            text-align: center;
            border: 2px solid transparent;
        }

        .service-option:hover {
            background: var(--gray-200);
            transform: translateY(-3px);
        }

        .service-option.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary-dark);
            transform: translateY(-3px);
        }

        .service-option i {
            font-size: 1.5rem;
        }

        .service-option span {
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* === CALENDRIER AVANCÉ === */
        .calendar-widget {
            background: white;
            padding: var(--spacing-xl);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            height: fit-content;
            position: sticky;
            top: 180px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-md);
            border-bottom: 2px solid var(--gray-200);
        }

        .calendar-header h3 {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary);
            margin: 0;
        }

        .calendar-nav {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .calendar-nav button {
            background: var(--gray-100);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transition);
            font-size: 1rem;
            color: var(--dark);
        }

        .calendar-nav button:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-bottom: var(--spacing-lg);
        }

        .calendar-day-header {
            text-align: center;
            font-weight: 700;
            color: var(--gray-500);
            font-size: 0.85rem;
            padding: 1rem 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .calendar-day {
            padding: 12px 8px;
            text-align: center;
            border-radius: 12px;
            cursor: pointer;
            transition: all var(--transition);
            font-weight: 600;
            position: relative;
            border: 2px solid transparent;
            background: white;
            font-size: 0.95rem;
        }

        .calendar-day:hover {
            background: var(--gray-100);
            transform: scale(1.05);
        }

        .calendar-day.selected {
            background: var(--gradient-primary);
            color: white;
            border-color: var(--primary);
            transform: scale(1.05);
            box-shadow: var(--shadow);
        }

        .calendar-day.available {
            background: var(--success-light);
            color: white;
        }

        .calendar-day.available:hover {
            background: var(--success);
        }

        .calendar-day.unavailable {
            background: var(--gray-100);
            color: var(--gray-400);
            cursor: not-allowed;
        }

        .calendar-day.past {
            background: var(--gray-100);
            color: var(--gray-400);
            cursor: not-allowed;
        }

        .calendar-day.today {
            border: 2px solid var(--primary);
            background: white;
            color: var(--primary);
        }

        .calendar-day.weekend {
            background: var(--gray-100);
            color: var(--gray-400);
            cursor: not-allowed;
        }

        .calendar-day.reserved {
            background: var(--accent-light);
            color: white;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .calendar-day.reserved:hover {
            transform: none;
            background: var(--accent-light);
        }

        .time-selection {
            margin-top: var(--spacing-lg);
        }

        .time-selection h4 {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            color: var(--dark);
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .time-slots {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.8rem;
        }

        .time-slot {
            padding: 12px;
            text-align: center;
            background: var(--gray-100);
            border-radius: 10px;
            cursor: pointer;
            transition: all var(--transition);
            font-weight: 600;
            border: 2px solid transparent;
            font-size: 0.9rem;
        }

        .time-slot:hover {
            background: var(--info-light);
            color: white;
            transform: scale(1.05);
        }

        .time-slot.selected {
            background: var(--gradient-primary);
            color: white;
            border-color: var(--primary);
            transform: scale(1.05);
            box-shadow: var(--shadow);
        }

        .time-slot.booked {
            background: var(--accent-light);
            color: white;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .time-slot.disabled {
            display: none;
        }

        .time-slot.past {
            background: var(--gray-200);
            color: var(--gray-500);
            cursor: not-allowed;
            opacity: 0.5;
        }

        .selected-slot-info {
            margin-top: var(--spacing-lg);
            padding: var(--spacing-lg);
            background: var(--success-light);
            color: white;
            border-radius: var(--radius-lg);
            text-align: center;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .selected-slot-info h4 {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .calendar-info {
            margin-top: var(--spacing-lg);
            padding: var(--spacing-lg);
            background: linear-gradient(135deg, var(--gray-100) 0%, #ffffff 100%);
            border-radius: var(--radius-lg);
            border-left: 4px solid var(--info);
        }

        .calendar-info h4 {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .calendar-info h4 i {
            color: var(--info);
        }

        .info-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
            color: var(--gray-600);
        }

        .info-item i {
            color: var(--success);
            width: 20px;
        }

        .confirmation-message {
            background: #d1ecf1;
            color: #0c5460;
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            margin-top: var(--spacing-lg);
            display: none;
            border-left: 4px solid var(--info);
            text-align: center;
            animation: fadeIn 0.3s ease;
        }

        .cta-button {
            background: var(--gradient-accent);
            color: white;
            padding: 18px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;
            width: 100%;
            justify-content: center;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .cta-button:hover::before {
            left: 100%;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-xl);
        }

        .cta-button:disabled {
            background: var(--gray-500);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .cta-button:disabled:hover::before {
            left: -100%;
        }

        /* ===== FIXATION DE LA NAVIGATION POUR DESKTOP SEULEMENT ===== */
        /* Désactivation du comportement de hide/show sur desktop */
        @media (min-width: 993px) {
            .navbar.hidden {
                transform: translateY(0) !important;
            }
            
            .top-bar {
                transform: translateY(0) !important;
            }
            
            /* Désactiver l'animation de scroll hide/show pour desktop */
            .navbar {
                transition: none !important;
            }
        }

        /* ===== RESPONSIVE DESIGN AMÉLIORÉ ===== */
        @media (max-width: 1200px) {
            .hero h1 { font-size: 3rem; }
            .section-title h2 { font-size: 2.5rem; }
            .process-steps {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--spacing-lg);
            }
            
            .process-steps::before {
                display: none;
            }
            
            .step-connector {
                display: none;
            }
            
            .mobile-menu-container {
                width: 85%;
            }
        }

        @media (max-width: 992px) {
            .nav-menu { display: none; }
            .mobile-menu-btn { display: block; }
            .appointment-container { grid-template-columns: 1fr; gap: var(--spacing-xl); }
            .form-container, .calendar-widget { position: static; }
            .cabinet-parallel-layout { grid-template-columns: 1fr; gap: var(--spacing-lg); }
            .hero-stats { grid-template-columns: 1fr; gap: var(--spacing-lg); }
            .top-bar-contact { flex-wrap: wrap; gap: var(--spacing-sm); }
            
            /* Ajustements menu mobile */
            .mobile-menu-container {
                width: 90%;
                max-width: 350px;
                padding: 90px 30px 30px;
            }
            
            .mobile-menu-header {
                padding: 25px 30px;
            }
            
            .mobile-nav-link {
                font-size: 1rem;
                padding: 14px 16px;
            }
        }

        @media (max-width: 768px) {
            .hero { padding: 220px 0 80px; margin-top: 0; }
            .hero h1 { font-size: 2.5rem; }
            .hero-subtitle { font-size: 1.1rem; }
            .section { padding: var(--spacing-xl) 0; }
            .section-title h2 { font-size: 2.2rem; }
            .services-grid, .expertise-grid { grid-template-columns: 1fr; }
            .news-grid { grid-template-columns: 1fr; }
            .form-container, .calendar-widget { padding: var(--spacing-lg); }
            .cabinet-left-column, .cabinet-right-column { padding: var(--spacing-lg); }
            .cabinet-text-block h3 { font-size: 1.8rem; }
            .footer-grid { gap: var(--spacing-xl); }
            .time-slots { grid-template-columns: repeat(2, 1fr); }
            .process-steps {
                grid-template-columns: 1fr;
                gap: var(--spacing-lg);
            }
            
            .process-step {
                padding: var(--spacing-lg);
            }
            
            .step-number {
                width: 70px;
                height: 70px;
                font-size: 1.8rem;
            }
            
            .process-step h3 {
                font-size: 1.3rem;
            }
            
            .modal-share-buttons {
                justify-content: center;
            }
            
            .modal-share-btn {
                padding: 0.6rem 1rem;
                font-size: 0.85rem;
            }
            
            .email-form-actions {
                flex-direction: column;
            }
            
            .email-share-content {
                padding: var(--spacing-lg);
            }
            
            /* Top bar mobile */
            .top-bar {
                display: none; /* On cache la top bar sur mobile, info dans menu mobile */
            }
            
            .navbar {
                top: 0;
            }
            
            .hero {
                padding: 180px 0 80px;
            }
            
            /* Menu mobile - version tablette */
            .mobile-menu-container {
                width: 100%;
                max-width: 400px;
            }
            
            .mobile-nav-link {
                font-size: 1.05rem;
                padding: 15px 20px;
            }
        }

        @media (max-width: 576px) {
            .hero h1 { font-size: 2rem; }
            .section-title h2 { font-size: 1.8rem; }
            .btn { padding: 0.8rem 1.5rem; }
            .service-options { grid-template-columns: 1fr; }
            .footer-newsletter .newsletter-form { flex-direction: column; }
            .contact-info { flex-direction: column; gap: var(--spacing-sm); text-align: center; }
            .cabinet-value-item { flex-direction: column; text-align: center; gap: 1rem; }
            .cabinet-value-item .value-icon { margin: 0 auto; }
            .cabinet-value-item:hover { transform: translateY(-5px); }
            .time-slots { grid-template-columns: 1fr; }
            
            .news-share-buttons {
                justify-content: center;
                width: 100%;
                margin-top: var(--spacing-md);
            }
            
            .modal-share-buttons {
                flex-direction: column;
                align-items: stretch;
            }
            
            .modal-share-btn {
                width: 100%;
                justify-content: center;
            }
            
            .email-share-header h3 {
                font-size: 1.5rem;
            }
            
            /* Menu mobile - version téléphone */
            .mobile-menu-container {
                padding: 80px 20px 20px;
            }
            
            .mobile-menu-header {
                padding: 20px;
            }
            
            .mobile-nav-link {
                font-size: 0.95rem;
                padding: 12px 15px;
                gap: 12px;
            }
            
            .mobile-contact-item {
                font-size: 0.9rem;
            }
            
            .mobile-menu-close {
                width: 40px;
                height: 40px;
                font-size: 1.3rem;
            }
        }

        /* Améliorations pour très petits écrans */
        @media (max-width: 380px) {
            .hero h1 { font-size: 1.8rem; }
            .section-title h2 { font-size: 1.6rem; }
            .btn { padding: 0.7rem 1.2rem; font-size: 0.9rem; }
            
            .mobile-menu-container {
                width: 100%;
                padding: 70px 15px 15px;
            }
            
            .mobile-menu-header {
                padding: 15px;
            }
            
            .mobile-nav-link {
                font-size: 0.9rem;
                padding: 10px 12px;
                gap: 10px;
            }
            
            .mobile-nav-link i {
                font-size: 1rem;
                width: 20px;
            }
        }

        /* Mode paysage mobile */
        @media (max-height: 600px) and (orientation: landscape) {
            .mobile-menu-container {
                padding: 60px 30px 30px;
            }
            
            .mobile-nav-menu {
                max-height: 60vh;
                overflow-y: auto;
            }
            
            .mobile-nav-item {
                margin-bottom: 4px;
            }
            
            .mobile-contact-section,
            .mobile-menu-cta {
                display: none;
            }
        }

        /* Support tactile amélioré */
        @media (hover: none) and (pointer: coarse) {
            .btn:hover {
                transform: none;
            }
            
            .btn:active {
                transform: scale(0.98);
            }
            
            .mobile-nav-link:hover {
                transform: none;
            }
            
            .mobile-nav-link:active {
                transform: translateX(10px);
                background: rgba(255, 255, 255, 0.1);
            }
            
            .service-option:hover {
                transform: none;
            }
            
            .service-option:active {
                transform: translateY(-3px);
            }
            
            .calendar-nav button:hover,
            .calendar-day:hover,
            .time-slot:hover {
                transform: none;
            }
            
            .calendar-nav button:active,
            .calendar-day:active,
            .time-slot:active {
                transform: scale(0.95);
            }
        }

        /* Animation d'apparition pour les sections */
        .section-animate {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        .section-animate.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <!-- Top Bar avec Contact et Badge -->
    <div class="top-bar">
        <div class="container top-bar-content">
            <div class="top-bar-contact">
                <div class="top-bar-item">
                    <i class="fas fa-phone"></i>
                    <a href="tel:+21653810911">+216 53 810 911</a>
                </div>
                <div class="top-bar-item">
                    <i class="fas fa-envelope"></i>
                    <a href="mailto:contact@cmsaccounting.tn">contact@cmsaccounting.tn</a>
                </div>
                <div class="top-bar-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Imm Hamdaoui, 1er étage ,Avenue Farhat Hached (à côté de tribunal)  Bouhajla</span>
                </div>
                <div class="top-bar-item">
                    <i class="fas fa-clock"></i>
                    <span>Lun-Ven: 8h30-17h30</span>
                </div>
            </div>
            <div class="top-badge">
                <i class="fas fa-award"></i>
                Comptable membre de l'OCT
            </div>
        </div>
    </div>

    <!-- Navigation Principale -->
    <nav class="navbar" id="navbar">
        <div class="container nav-container">
            <a href="#accueil" class="logo">
                <div class="logo-img">
                    <img src="C:\MED 08-12-2023\SHILI PUB\SITE WEB\logo finale1.png" alt="CMS Comptable" class="logo-img">
                </div>
            </a>
            
            <ul class="nav-menu">
                <li><a href="#accueil" class="active">Accueil</a></li>
                <li><a href="#cabinet">Cabinet</a></li>
                <li><a href="#services">Services</a></li>
                <li><a href="#processus">Processus</a></li>
               
                <li><a href="#rendezvous">Rendez-vous</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Menu mobile">
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
        </div>
    </nav>

    <!-- Overlay du menu mobile -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>

    <!-- Menu mobile container -->
    <div class="mobile-menu-container" id="mobileMenuContainer">
        <div class="mobile-menu-header">
            <a href="#accueil" class="mobile-logo" onclick="closeMobileMenu()">CMS Comptable</a>
            <button class="mobile-menu-close" id="mobileMenuClose" aria-label="Fermer le menu">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <ul class="mobile-nav-menu" id="mobileNavMenu">
            <!-- Les éléments de navigation seront générés dynamiquement -->
        </ul>
        
        <div class="mobile-menu-divider" id="mobileDivider"></div>
        
        <div class="mobile-contact-section" id="mobileContact">
            <h4 class="mobile-contact-title">Contact Rapide</h4>
            <div class="mobile-contact-info">
                <div class="mobile-contact-item">
                    <i class="fas fa-phone"></i>
                    <a href="tel:+21653810911" class="mobile-contact-link">+216 53 810 911</a>
                </div>
                <div class="mobile-contact-item">
                    <i class="fas fa-envelope"></i>
                    <a href="mailto:contact@cmsaccounting.tn" class="mobile-contact-link">contact@cmsaccounting.tn</a>
                </div>
                <div class="mobile-contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Imm Hamdaoui, 1er étage ,Avenue Farhat Hached (à côté de tribunal)  Bouhajla 3180</span>
                </div>
                <div class="mobile-contact-item">
                    <i class="fas fa-award"></i>
                    <span>Comptable membre de l'OCT</span>
                </div>
                <div class="mobile-contact-item">
                    <i class="fas fa-clock"></i>
                    <span>Lun-Ven: 8h30-17h30</span>
                </div>
            </div>
        </div>
        
        <div class="mobile-menu-cta" id="mobileCta">
            <button class="btn btn-accent btn-full" onclick="scrollToSection('rendezvous'); closeMobileMenu();">
                <i class="fas fa-calendar-check"></i> Prendre Rendez-vous
            </button>
        </div>
        
        <div class="scroll-indicator" id="scrollIndicator">
            <i class="fas fa-chevron-up"></i> Défiler
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero" id="accueil">
        <div class="container hero-content">
            <span class="hero-badge animate__animated animate__fadeInDown">
                <i class="fas fa-award"></i> ZÉRO PAPIER, 100% DÉMATÉRIALISÉE
            </span>
            
            <h1 class="animate__animated animate__fadeInUp">Cabinet Comptable Tunisie : Membre de l'Ordre des Comptables de Tunisie (OCT)</h1>
            
            <p class="hero-subtitle animate__animated animate__fadeInUp">
                Cabinet comptable 100% connecté en Tunisie : une équipe jeune et agile à vos côtés. Bénéficiez d'un suivi en temps réel, de documents sécurisés dans le cloud et d'un conseiller dédié pour piloter votre croissance. Comptable disponible en présentiel à Bouhajla Kairouan, ou à distance par visioconférence et téléphone pour toutes les entreprises en Tunisie. Réservez votre rendez-vous en ligne directement sur notre site web.</p>
            
            <div class="hero-cta animate__animated animate__fadeInUp">
                <button class="btn btn-accent btn-lg" onclick="scrollToSection('rendezvous')">
                    <i class="fas fa-calendar-check"></i> Prendre Rendez-vous
                </button>
                <button class="btn btn-secondary btn-lg" onclick="scrollToSection('services')">
                    <i class="fas fa-chart-line"></i> Découvrir nos Services
                </button>
            </div>
        </div>
    </section>

    <!-- Section Cabinet Optimisée -->
    <section class="section" id="cabinet">
        <div class="container">
            <div class="section-title">
                <h2>Notre Cabinet</h2>
                <p>Cabinet comptable CMS Accounting à Bouhajla  : votre partenaire pour la conformité fiscale et comptable en Tunisie.<strong>Notre mission :</strong>  gérer vos obligations comptables, fiscales et sociales pour que vous puissiez vous concentrer sur le développement de votre entreprise en toute sérénité.</p>
            </div>
            
            <!-- CMS Accounting Hero -->
            <div class="cms-accounting-section">
                <div class="cms-accounting-content">
                    <h3>CMS ACCOUNTING : Votre solution de comptabilité dématérialisée 100% en ligne en Tunisie.</h3>
                    <p>
                        Transmettez vos pièces comptables numérisées depuis Bouhajla, Kairouan, Tunis, Sfax ou n'importe où en Tunisie. Tenue de comptabilité conforme aux normes tunisiennes avec archivage cloud sécurisé. Cabinet comptable digital pour entrepreneurs tunisiens.
                    </p>
                </div>
            </div>
            
            <!-- Structure parallèle améliorée -->
            <div class="cabinet-parallel-layout">
                <!-- Colonne gauche : Texte principal -->
                <div class="cabinet-left-column">
                    <div class="cabinet-text-block">
                        <h3>Notre Approche</h3>
                        <p>Nous traitons vos pièces avec une rigueur systématique pour produire des données sûres et nous chargeons du suivi complet de vos obligations réglementaires.</p>
                        <p>Notre approche allie la rigueur professionnelle à l'innovation digitale pour vous offrir une vision financière claire et un accompagnement stratégique personnalisé.</p>
                        <p>Chaque opération est validée selon les normes comptables tunisiennes sous la direction de M. Shili Mohamed, garantissant une conformité totale à vos obligations comptables ,fiscales et sociales.</p>
                        
                        <div style="margin-top: 2rem;">
                            <h4>💰 Une gestion économique et intelligente</h4>
                            <p>Nous réduisons nos coûts de fonctionnement grâce au digital pour vous proposer des honoraires adaptés à votre activité.</p>
                            <ul style="margin-top: 1rem;">
                                <li><strong>Réduction des frais :</strong> Plus de déplacements, plus d'achats de classeurs ni d'archivage physique encombrant.</li>
                                <li><strong>Économie de temps :</strong> Transmettez vos pièces en un scan, sans délai. Gérez tout depuis votre bureau.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- Colonne droite : Mission, Vision, Valeurs -->
                <div class="cabinet-right-column">
                    <div class="cabinet-values-block">
                        <h3>Nos Engagements</h3>
                        
                        <div class="cabinet-value-item">
                            <div class="value-icon">
                                <i class="fas fa-file-contract"></i>
                            </div>
                            <div class="value-content">
                                <h4>🎯 Tenue Conforme de Votre Dossier</h4>
                                <p>- Établissement et dépôt réglementaire de vos états financiers et obligations fiscales & sociales.</p>
                                <p>- Archivage sécurisé de vos documents comptables dans le Cloud.</p>
                            </div>
                        </div>
                        
                        <div class="cabinet-value-item">
                            <div class="value-icon">
                                <i class="fas fa-clipboard-check"></i>
                            </div>
                            <div class="value-content">
                                <h4>🔍 Transparence Opérationnelle</h4>
                                <p>- Suivi systématique avec notifications à chaque étape de validation et de dépôt.</p>
                                <p>- Consultation disponible de l'historique complet des dépôts.</p>
                            </div>
                        </div>
                        
                        <div class="cabinet-value-item">
                            <div class="value-icon">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div class="value-content">
                                <h4>🤝 Accompagnement et Planification</h4>
                                <p>- Accompagnement par un expert via téléphone, visioconférence ou présentiel.</p>
                                <p>- Gestion centralisée des rendez-vous selon vos disponibilités.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Section Principes -->
            <div class="principles-section">
                <div class="section-title">
                    <h3>Ce Qui Nous Guide :</h3>
                    <p>Les principes qui orientent chacune de nos décisions – toujours dans votre intérêt.</p>
                </div>
                
                <div class="principles-grid">
                    <div class="principle-card">
                        <div class="principle-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <h4>Gestion 100% Numérisée & Sans Papier</h4>
                        <p>Archivage cloud sécurisé, finis les classeurs encombrants. Transmettez vos documents en un clic.</p>
                    </div>
                    
                    <div class="principle-card">
                        <div class="principle-icon">
                            <i class="fas fa-bell"></i>
                        </div>
                        <h4>Suivi en Temps Réel & Notifications</h4>
                        <p>Soyez alerté par email à chaque étape importante de vos dossiers. Restez informé en permanence.</p>
                    </div>
                    
                    <div class="principle-card">
                        <div class="principle-icon">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <h4>Réactivité Garantie & Support Efficace</h4>
                        <p>Une réponse à vos questions sous 24h maximum. Un support réactif et efficace.</p>
                    </div>
                    
                    <div class="principle-card">
                        <div class="principle-icon">
                            <i class="fas fa-handshake"></i>
                        </div>
                        <h4>Conseiller Dédié</h4>
                        <p>Votre interlocuteur humain, expert en fiscalité, vous accompagne personnellement.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="section section-bg-light" id="services">
        <div class="container">
            <div class="section-title">
                <h2>Nos Services</h2>
                <p>Une gamme complète de services professionnels pour accompagner votre entreprise à chaque étape</p>
            </div>
            
            <div class="services-grid">
                <!-- Service 1 -->
                <div class="service-card animate-fade-in-up">
                    <div class="service-icon">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <h3>Création d'Entreprise</h3>
                    <p>Accompagnement sur-mesure pour créer votre entreprise en Tunisie, que vous soyez résident ou non-résident.</p>
                    <ul class="service-features">
                        <li>Étude de projet et choix juridique</li>
                        <li>Domiciliation d'entreprise</li>
                        <li>Dépôt de déclaration d'investissement</li>
                        <li>Rédaction des documents juridiques</li>
                        <li>Obtention du matricule fiscal</li>
                        <li>Immatriculation RNE</li>
                    </ul>
                    <div class="service-cta">
                        <button class="btn btn-primary btn-sm">
                            <i class="fas fa-info-circle"></i> En savoir plus
                        </button>
                    </div>
                </div>
                
                <!-- Service 2 -->
                <div class="service-card animate-fade-in-up">
                    <div class="service-icon">
                        <i class="fas fa-balance-scale"></i>
                    </div>
                    <h3>Comptabilité Générale</h3>
                    <p>Gestion complète de votre comptabilité pour une vision claire de votre santé financière.</p>
                    <ul class="service-features">
                        <li>Réception et organisation  de vos pièces comptables scannées</li>
                        <li>Tenue de comptabilité</li>
                        <li>Établissement des états financiers</li>
                        <li>Situations prévisionnelles</li>
                        <li>Assistance et supervision</li>
                    </ul>
                    <div class="service-cta">
                        <button class="btn btn-primary btn-sm">
                            <i class="fas fa-info-circle"></i> En savoir plus
                        </button>
                    </div>
                </div>
                
                <!-- Service 3 -->
                <div class="service-card animate-fade-in-up">
                    <div class="service-icon">
                        <i class="fas fa-file-invoice-dollar"></i>
                    </div>
                    <h3>Fiscalité & Optimisation</h3>
                    <p>Optimisation fiscale légale et accompagnement pour réduire votre charge fiscale.</p>
                    <ul class="service-features">
                        <li>Établissement des déclarations fiscales</li>
                        <li>Optimisation du résultat fiscal</li>
                        <li>Dossiers d'avantages fiscaux</li>
                        <li>Assistance aux contrôles fiscaux</li>
                        <li>Consultation fiscale personnalisée</li>
                    </ul>
                    <div class="service-cta">
                        <button class="btn btn-primary btn-sm">
                            <i class="fas fa-info-circle"></i> En savoir plus
                        </button>
                    </div>
                </div>
                
                <!-- Service 4 -->
                <div class="service-card animate-fade-in-up">
                    <div class="service-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Gestion Sociale & Paie</h3>
                    <p>Gestion externalisée de la paie et des déclarations sociales.</p>
                    <ul class="service-features">
                        <li>Bulletins de paie mensuels</li>
                        <li>Dépôt de vos déclarations sociales dans les délais légaux</li>
                        <li>Attestations officielles</li>
                        <li>Accompagnement RH</li>
                        <li>Accompagnement pendant les contrôles CNSS et inspections de travail</li>
                    </ul>
                    <div class="service-cta">
                        <button class="btn btn-primary btn-sm">
                            <i class="fas fa-info-circle"></i> En savoir plus
                        </button>
                    </div>
                </div>
                
                <!-- Service 5 -->
                <div class="service-card animate-fade-in-up">
                    <div class="service-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Conseil & Stratégie</h3>
                    <p>Accompagnement stratégique pour la croissance et le développement de votre entreprise.</p>
                    <ul class="service-features">
                        <li>Stratégie de croissance holistique</li>
                        <li>Conseil stratégique personnalisé</li>
                        <li>Atteinte des objectifs business</li>
                        <li>Transmission d'entreprise</li>
                        <li>Conseil en financement</li>
                    </ul>
                    <div class="service-cta">
                        <button class="btn btn-primary btn-sm">
                            <i class="fas fa-info-circle"></i> En savoir plus
                        </button>
                    </div>
                </div>
                
                <!-- Service 6 -->
                <div class="service-card animate-fade-in-up">
                    <div class="service-icon">
                        <i class="fas fa-gavel"></i>
                    </div>
                    <h3>Assistance Juridique</h3>
                    <p>Conseil et accompagnement juridique pour la création et le développement de votre société.</p>
                    <ul class="service-features">
                        <li>Choix de la forme juridique</li>
                        <li>Création et formalités</li>
                        <li>Conseil juridique spécialisé</li>
                        <li>Augmentation de capital</li>
                        <li>Rédaction d'actes juridiques</li>
                    </ul>
                    <div class="service-cta">
                        <button class="btn btn-primary btn-sm">
                            <i class="fas fa-info-circle"></i> En savoir plus
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Processus Section AMÉLIORÉE -->
    <section class="section section-processus" id="processus">
        <div class="container">
            <div class="section-title">
                <h2>Notre Processus de Collaboration :</h2>
                <p><strong>Découvrez notre approche en 4 étapes :</strong> Diagnostic Initial, Proposition Sur-Mesure, Mise en Œuvre et Suivi & Optimisation.</p>
                <p>Simplifiez votre gestion comptable dès aujourd'hui.</p>
            </div>
            
            <div class="process-steps">
                <div class="process-step">
                    <div class="step-number-container">
                        <div class="step-number">1</div>
                        <div class="step-connector"></div>
                    </div>
                    <div class="step-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>Diagnostic Initial</h3>
                    <p>Profitons d'un premier échange pour faire le point sur vos enjeux comptables. Vous partagez vos défis, et nous esquissons ensemble des pistes d'amélioration.</p>
                    <div class="step-badge-wrapper">
                        <span class="step-badge">Phase 1</span>
                    </div>
                    <ul class="step-features">
                        <li>Écoute active de vos besoins et contraintes</li>
                        <li>Diagnostic opérationnel de votre situation actuelle</li>
                        <li>Sélection des actions prioritaires en cohérence avec vos objectifs</li>
                    </ul>
                </div>
                
                <div class="process-step">
                    <div class="step-number-container">
                        <div class="step-number">2</div>
                        <div class="step-connector"></div>
                    </div>
                    <div class="step-icon">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <h3>Proposition Sur-Mesure</h3>
                    <p>On passe à l'action. Votre stratégie, décryptée en un plan clair, un calendrier précis et un budget maîtrisé.</p>
                    <div class="step-badge-wrapper">
                        <span class="step-badge">Phase 2</span>
                    </div>
                    <ul class="step-features">
                        <li>Élaboration d'une stratégie adaptée à votre réalité</li>
                        <li>Planning précis avec étapes claires et dates définies</li>
                        <li>Budget transparent et justifié</li>
                    </ul>
                </div>
                
                <div class="process-step">
                    <div class="step-number-container">
                        <div class="step-number">3</div>
                        <div class="step-connector"></div>
                    </div>
                    <div class="step-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3>Mise en Œuvre</h3>
                    <p>Nous transformons votre idée en réalité par un pilotage actif et des ajustements en temps réel, assurant une progression mesurable vers votre objectif.</p>
                    <div class="step-badge-wrapper">
                        <span class="step-badge">Phase 3</span>
                    </div>
                    <ul class="step-features">
                        <li>Mise en œuvre progressive et pilotée</li>
                        <li>Suivi rapproché et gestion proactive des points de blocage</li>
                        <li>Validation continue et ajustements immédiats</li>
                    </ul>
                </div>
                
                <div class="process-step">
                    <div class="step-number-container">
                        <div class="step-number">4</div>
                    </div>
                    <div class="step-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Suivi & Optimisation</h3>
                    <p>Nous mesurons ensemble l'impact concret de notre collaboration et nous vous transférons les connaissances nécessaires pour maintenir et faire évoluer ces performances.</p>
                    <div class="step-badge-wrapper">
                        <span class="step-badge">Phase 4</span>
                    </div>
                    <ul class="step-features">
                        <li>Mesure en continu des performances et des indicateurs clés (KPI)</li>
                        <li>Analyses claires démontrant la valeur créée et le retour sur investissement</li>
                        <li>Ajustements fondés sur les données et ancrage des nouvelles pratiques</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

        <!-- Rendez-vous Section AMÉLIORÉE -->
    <section class="section appointment-section" id="rendezvous">
        <div class="container">
            <div class="section-title">
                <h2>Prendre Rendez-vous</h2>
                <p>Choisissez la date et l'horaire qui vous conviennent pour une consultation de 30 minutes avec nos experts</p>
            </div>
            
            <div class="appointment-container">
                <!-- Formulaire de rendez-vous -->
                <div class="form-container">
                    <div class="form-header">
                        <h3>Demande de Consultation</h3>
                        <p>Remplissez ce formulaire et nous vous recontacterons pour confirmation</p>
                    </div>
                    <form id="appointmentForm">
                        <div class="form-group">
                            <label for="name">Nom complet *</label>
                            <input type="text" id="name" class="form-control" required placeholder="Votre nom et prénom">
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email professionnel *</label>
                            <input type="email" id="email" class="form-control" required placeholder="votre@entreprise.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Téléphone *</label>
                            <input type="tel" id="phone" class="form-control" required placeholder="+216 XX XXX XXX">
                        </div>
                        
                        <div class="form-group">
                            <label for="company">Entreprise & Activité</label>
                            <input type="text" id="company" class="form-control" placeholder="Nom de votre entreprise et secteur d'activité">
                        </div>
                        
                        <div class="form-group">
                            <label>Services demandés *</label>
                            <div class="service-options">
                                <div class="service-option" data-service="Création d'entreprise">
                                    <i class="fas fa-rocket"></i>
                                    <span>Création d'entreprise</span>
                                </div>
                                <div class="service-option" data-service="Comptabilité générale">
                                    <i class="fas fa-balance-scale"></i>
                                    <span>Comptabilité générale</span>
                                </div>
                                <div class="service-option" data-service="Fiscalité">
                                    <i class="fas fa-file-invoice-dollar"></i>
                                    <span>Fiscalité</span>
                                </div>
                                <div class="service-option" data-service="Paie & Social">
                                    <i class="fas fa-user-tie"></i>
                                    <span>Paie & Social</span>
                                </div>
                                <div class="service-option" data-service="Conseil & Stratégie">
                                    <i class="fas fa-search"></i>
                                    <span>Conseil & Stratégie</span>
                                </div>
                                <div class="service-option" data-service="Assistance Juridique">
                                    <i class="fas fa-briefcase"></i>
                                    <span>Assistance Juridique</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Type de rendez-vous *</label>
                            <div class="service-options">
                                <div class="service-option" data-type="Présentiel">
                                    <i class="fas fa-building"></i>
                                    <span>Présentiel</span>
                                </div>
                                <div class="service-option" data-type="Visio-conférence">
                                    <i class="fas fa-video"></i>
                                    <span>Visio-conférence</span>
                                </div>
                                <div class="service-option" data-type="Téléphonique">
                                    <i class="fas fa-phone"></i>
                                    <span>Téléphonique</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="message">Description de votre besoin</label>
                            <textarea id="message" class="form-control" rows="4" placeholder="Décrivez brièvement l'objet de votre consultation..."></textarea>
                        </div>
                        
                        <button type="submit" class="cta-button" id="submitBtn">
                            <i class="fas fa-paper-plane"></i> Confirmer la demande de rendez-vous
                        </button>
                        
                        <div class="loading" id="loading">
                            <div class="spinner"></div>
                            <p>Envoi en cours... Préparation de votre rendez-vous</p>
                        </div>
                        
                        <div class="success-message" id="successMessage">
                            <h4><i class="fas fa-check-circle"></i> Demande envoyée avec succès !</h4>
                            <p>Votre demande de rendez-vous a été enregistrée. Vous recevrez un email de confirmation dans les plus brefs délais avec les détails de votre consultation.</p>
                        </div>
                        
                        <div class="error-message" id="errorMessage">
                            <h4><i class="fas fa-exclamation-triangle"></i> Erreur lors de l'envoi</h4>
                            <p>Une erreur est survenue lors de l'envoi de votre demande. Veuillez réessayer ou nous contacter directement par téléphone.</p>
                        </div>
                        
                        <div class="confirmation-message" id="confirmationMessage">
                            <i class="fas fa-check-circle" style="font-size: 2rem; margin-bottom: 10px;"></i>
                            <h3>Demande de rendez-vous envoyée!</h3>
                            <p>Nous vous avons envoyé un email de confirmation à l'adresse <strong id="confirmEmail"></strong>. Notre équipe vous contactera pour finaliser la prise de rendez-vous.</p>
                        </div>
                    </form>
                </div>
                
                <!-- Calendrier Avancé -->
                <div class="calendar-widget">
                    <div class="calendar-header">
                        <h3>Calendrier des disponibilités</h3>
                        <div class="calendar-nav">
                            <button onclick="changeMonth(-1)"><i class="fas fa-chevron-left"></i></button>
                            <span id="currentMonth" style="font-weight: 800; color: var(--dark); min-width: 180px; text-align: center; font-size: 1.1rem;">Décembre 2024</span>
                            <button onclick="changeMonth(1)"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                    
                    <div class="calendar-grid" id="calendarHeaders">
                        <!-- En-têtes des jours générés par JS -->
                    </div>
                    
                    <div class="calendar-grid" id="calendar">
                        <!-- Jours générés par JavaScript -->
                    </div>
                    
                    <div id="timeSelection" style="display: none;">
                        <div class="time-selection">
                            <h4><i class="fas fa-clock"></i> Choisissez un horaire :</h4>
                            <div class="time-slots" id="timeSlots">
                                <!-- Créneaux horaires générés par JS -->
                            </div>
                        </div>
                    </div>
                    
                    <div id="selectedSlot" class="selected-slot-info">
                        <h4><i class="fas fa-calendar-check"></i> Rendez-vous sélectionné</h4>
                        <p id="selectedSlotText"></p>
                    </div>
                    
                    <div class="calendar-info">
                        <h4><i class="fas fa-info-circle"></i> Informations pratiques</h4>
                        <div class="info-item">
                            <i class="fas fa-clock"></i>
                            <span><strong>Durée :</strong> Consultation de 30 minutes</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span><strong>Lieu :</strong> Présentiel ou Visio selon choix</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-file-alt"></i>
                            <span><strong>Préparation :</strong> Merci de préparer vos documents</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-times-circle"></i>
                            <span><strong>Annulation :</strong> Gratuite jusqu'à 24h à l'avance</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" id="contact">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <img src="images/footer-logo.png" alt="CMS Accounting" class="footer-logo" style="height: 80px; margin-bottom: 1rem; filter: brightness(1.2) contrast(1.1) drop-shadow(0 2px 8px rgba(66, 153, 225, 0.3)); transition: all 0.3s ease;">
                    <p class="footer-about">

                    </p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/profile.php?id=100079689677246" class="social-link" aria-label="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                                           </div>
                </div>
                
                <div class="footer-column">
                    <h3>Contact & Accès</h3>
                    <ul class="footer-contact">
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Avenue Farhat Hached<br>Bouhajla Kairouan 3180</span>
                        </li>
                        <li>
                            <i class="fas fa-phone"></i>
                            <span><strong>Téléphone :</strong><br>+216 53 810 911</span>
                        </li>
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span><strong>Email :</strong><br>contact@cmsaccounting.tn</span>
                        </li>
                        <li>
                            <i class="fas fa-award"></i>
                            <span><strong>Certification :</strong><br>Comptable membre de l'OCT</span>
                        </li>
                        <li>
                            <i class="fas fa-clock"></i>
                            <span><strong>Horaires :</strong><br>Lun-Ven: 8h30-17h30</span>
                        </li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Services Rapides</h3>
                    <ul class="footer-links">
                        <li><a href="#services"><i class="fas fa-chevron-right"></i> Création d'Entreprise</a></li>
                        <li><a href="#services"><i class="fas fa-chevron-right"></i> Comptabilité Générale</a></li>
                        <li><a href="#services"><i class="fas fa-chevron-right"></i> Fiscalité & Optimisation</a></li>
                        <li><a href="#services"><i class="fas fa-chevron-right"></i> Gestion Sociale & Paie</a></li>
                        <li><a href="#services"><i class="fas fa-chevron-right"></i> Conseil & Stratégie</a></li>
                        <li><a href="#services"><i class="fas fa-chevron-right"></i> Assistance Juridique</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
              










            <div class="copyright">
                <p>&copy; 2024 CMS Comptable Tunisie. Tous droits réservés. | Membre de l'Ordre des Comptables de Tunisie</p>
                <p style="margin-top: 0.5rem; font-size: 0.8rem;">
                    <a href="#" style="color: white;">Mentions légales</a> | 
                    <a href="#" style="color: white;">Politique de confidentialité</a> | 
                    <a href="#" style="color: white;">Plan du site</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- Modal pour les actualités AVEC PARTAGE EMAIL -->
    <div class="news-modal" id="newsModal">
        <div class="news-modal-content">
            <div class="news-modal-header">
                <button class="news-modal-close" onclick="closeNewsModal()" aria-label="Fermer">
                    <i class="fas fa-times"></i>
                </button>
                <div class="news-modal-date" id="modalDate"></div>
                <h2 class="news-modal-title" id="modalTitle"></h2>
                <div class="news-tags" id="modalTags"></div>
            </div>
            <div class="news-modal-body" id="modalBody">
                <!-- Contenu généré par JavaScript -->
            </div>
            
            <!-- Section de partage dans le modal -->
            <div class="news-modal-share" id="modalShareSection">
                <h4 class="share-section-title"><i class="fas fa-share-alt"></i> Partager cet article</h4>
                <div class="modal-share-buttons" id="modalShareButtons">
                    <!-- Boutons de partage générés par JS -->
                </div>
                <div class="share-stats" id="modalShareStats">
                    <!-- Statistiques générées par JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de partage par email - VERSION SIMPLIFIÉE -->
    <div class="email-share-modal" id="emailShareModal">
        <div class="email-share-content">
            <button class="email-share-close" onclick="closeEmailShareModal()" aria-label="Fermer">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="email-share-header">
                <h3><i class="fas fa-envelope"></i> Partager par email</h3>
                <p>Envoyez cet article à un collègue ou un ami directement depuis votre client mail</p>
            </div>
            
            <form id="emailShareForm">
              
                
                <div class="email-form-group">
                    <label for="recipientEmail">Email du destinataire</label>
                    <input type="email" id="recipientEmail" class="email-form-control" placeholder="jean.dupont@exemple.com" required>
                </div>
                
                
                
                <div class="email-share-preview" id="emailPreview">
                    <!-- Prévisualisation générée par JS -->
                </div>
                
                <div class="email-form-actions">
                    <button type="button" class="email-share-btn secondary" onclick="closeEmailShareModal()">
                        <i class="fas fa-times"></i> Annuler
                    </button>
                    <button type="submit" class="email-share-btn primary" id="sendEmailBtn">
                        <i class="fas fa-paper-plane"></i> Partager
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Notification de copie de lien -->
    <div class="copy-notification" id="copyNotification">
        <i class="fas fa-check-circle"></i>
        <span>Lien copié dans le presse-papier !</span>
    </div>

    <!-- Back to Top -->
    <button class="back-to-top" id="backToTop" aria-label="Retour en haut">
        <i class="fas fa-chevron-up"></i>
    </button>

    <script>
        // ===== CONFIGURATION =====
        const CONFIG = {
            business: {
                email: "contact@cmsaccounting.tn",
                phone: "+21653810911",
                address: "Imm Hamdaoui, 1er étage ,Avenue Farhat Hached (à côté de tribunal)  Bouhajla 3180"
            }
        };

        // ===== CONFIGURATION EMAILJS =====
        const EMAILJS_CONFIG = {
            PUBLIC_KEY: "g5_Y5dazTzArrqBHX",
            SERVICE_ID: "confirmation",
            TEMPLATE_CABINET: "template_3osxhii",
            TEMPLATE_CLIENT: "template_6bn5hqu"
        };

        // ===== DONNÉES DES ACTUALITÉS AMÉLIORÉES =====
        const newsData = {
            'tva-2024': {
                date: '25 Décembre 2024',
                title: 'Réforme de la TVA 2024 : Nouveaux Régimes et Obligations',
                tags: ['Fiscalité'],
                description: 'La loi de finances 2024 introduit des modifications majeures du code de la TVA concernant les exportateurs et les prestataires de services internationaux.',
                content: `
                    <h3>Les principales modifications</h3>
                    <p>La loi de finances 2024 introduit des changements significatifs dans le régime de la TVA en Tunisie :</p>
                    
                    <h4>1. Nouveaux taux applicables</h4>
                    <ul>
                        <li>Taux réduit de 7% pour les produits de première nécessité</li>
                        <li>Taux normal de 19% maintenu pour la majorité des biens et services</li>
                        <li>Taux spécifique de 13% pour certains services touristiques</li>
                    </ul>
                    
                    <h4>2. Obligations déclaratives renforcées</h4>
                    <p>Les entreprises doivent désormais :</p>
                    <ul>
                        <li>Déclarer mensuellement au lieu de trimestriellement pour les entreprises dont le CA dépasse 1 million TND</li>
                        <li>Fournir des justificatifs supplémentaires pour les exportations</li>
                        <li>Mettre en place un système de facturation électronique certifié</li>
                    </ul>
                    
                    <h4>3. Mesures transitoires</h4>
                    <p>Les entreprises disposent d'un délai de 6 mois pour s'adapter aux nouvelles obligations.</p>
                    
                    <h4>Recommandations du cabinet</h4>
                    <p>Nous recommandons à toutes nos entreprises clientes de :</p>
                    <ul>
                        <li>Mettre à jour leurs logiciels comptables</li>
                        <li>Former leurs équipes aux nouvelles obligations</li>
                        <li>Planifier un audit de conformité TVA</li>
                        <li>Anticiper les impacts sur la trésorerie</li>
                    </ul>
                    
                    <div class="news-meta" style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--border);">
                        <span><i class="fas fa-user"></i> Rédigé par : Mr. Shili Mohamed</span>
                        <span><i class="fas fa-clock"></i> Temps de lecture : 5 minutes</span>
                    </div>
                `
            },
            'droit-societes': {
                date: '02 Décembre 2024',
                title: 'Nouveau Droit des Sociétés : Impacts sur les SARL et SAS',
                tags: ['Légal'],
                description: 'La nouvelle loi 2024-XX modifie profondément le cadre juridique des entreprises en Tunisie.',
                content: `
                    <h3>Réforme du droit des sociétés</h3>
                    <p>La nouvelle loi 2024-XX modifie profondément le cadre juridique des entreprises en Tunisie.</p>
                    
                    <h4>Principaux changements pour les SARL</h4>
                    <ul>
                        <li>Capital social minimum abaissé à 1,000 TND</li>
                        <li>Suppression de l'obligation de commissaire aux comptes pour les petites SARL</li>
                        <li>Simplification des formalités de modification des statuts</li>
                    </ul>
                    
                    <h4>Évolutions pour les SAS</h4>
                    <ul>
                        <li>Introduction de l'actionnariat salarié</li>
                        <li>Possibilité de création à capital variable</li>
                        <li>Règles de gouvernance assouplies</li>
                    </ul>
                    
                    <h4>Impacts pratiques</h4>
                    <p>Ces modifications permettent :</p>
                    <ul>
                        <li>Une création d'entreprise plus rapide et moins coûteuse</li>
                        <li>Une flexibilité accrue dans la gestion</li>
                        <li>Une meilleure adaptation aux besoins des startups</li>
                    </ul>
                    
                    <div class="news-meta" style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--border);">
                        <span><i class="fas fa-user"></i> Rédigé par : Service Juridique CMS</span>
                        <span><i class="fas fa-clock"></i> Temps de lecture : 7 minutes</span>
                    </div>
                `
            },
            'legal-2022': {
                date: '23 Décembre 2022',
                title: 'Le Régime de l\'Auto-Entrepreneur en Tunisie',
                tags: ['Légal'],
                description: 'Le statut d\'auto-entrepreneur en Tunisie, créé par le Décret-loi n° 2020-33 et modifié en décembre 2022, offre un cadre simplifié pour l\'entrepreneuriat individuel.',
                content: `
                    <h3>Nouveautés Légal 2022</h3>
                    <p>Le statut d'auto-entrepreneur offre un cadre simplifié pour l'entrepreneuriat individuel en Tunisie.</p>
                    
                    <h4>🎯 Qui peut devenir auto-entrepreneur ?</h4>
                  <P><STRONG> Conditions d'éligibilité</STRONG></P>
 <P>
                       Toute personne physique tunisienne exerçant seule une activité dans l'industrie, l'artisanat, le commerce ou les services peut bénéficier de ce statut, à condition que son chiffre d'affaires annuel ne dépasse pas 75 000 dinars. Le régime est accordé pour 4 ans renouvelables une fois pour 3 années supplémentaires.
                    </P>
                     <h4>🚀 Comment s'inscrire ?</h4>
                  <P><STRONG> Procédure 100% numérique</STRONG></P>
 <P>
L'inscription se fait exclusivement via une plateforme nationale en ligne qui gère également les déclarations et paiements. Une carte d'auto-entrepreneur est délivrée dans les 15 jours suivant l'inscription, renouvelable après 3 ans.
                    </P>
 <h4>💰 Quelles sont les contributions ?</h4>
                  <P><STRONG>Un système fiscal et social simplifié</STRONG></P>
 <P>
                      Les auto-entrepreneurs paient une contribution annuelle unique de 100 dinars (200 dinars dans certaines zones), qui remplace l'impôt, la TVA et les cotisations sociales. La première année bénéficie souvent d'une exonération prise en charge par le Fonds national de l'emploi.
                    </P>

                          <h4>🛡️ Quelle protection sociale ?</h4>
                  <P><STRONG> Couverture santé incluse</STRONG></P>
 <P>
L'affiliation à la CNSS se fait selon la nature de l'activité (régime des artisans ou des non-salariés). Le paiement des cotisations donne droit à une carte de soins trimestrielle, avec possibilité d'opter pour une tranche supérieure.                    </P>
                  
                                        <h4>📅 Quelles obligations déclaratives ?</h4>
                  <P><STRONG>Déclarations trimestrielles obligatoires</STRONG></P>
 <P>L'auto-entrepreneur doit déclarer son chiffre d'affaires chaque trimestre via la plateforme et payer ses contributions en ligne. Des pénalités (5 dinars/mois de retard) s'appliquent en cas de non-respect.
                    </P>
<h4>⚠️ Quelles causes de radiation ?</h4>
                  <P><STRONG> Motifs de perte du statut</STRONG></P>
 <P><STRONG>Cas de radiation :</STRONG></P>

 <P>
Le statut peut être radié pour non-paiement pendant 4 trimestres, absence de déclaration sur 5 trimestres, dépassement du plafond de CA, ou réalisation de plus de 90% du CA avec un ancien employeur. Une procédure de mise en demeure précède toute radiation.                   </P>
<h4>⚠️ Quelles causes de radiation ?</h4>
                  <P><STRONG> Motifs de perte du statut</STRONG></P>
 <P>
Le statut peut être radié pour non-paiement pendant 4 trimestres, absence de déclaration sur 5 trimestres, dépassement du plafond de CA, ou réalisation de plus de 90% du CA avec un ancien employeur. Une procédure de mise en demeure précède toute radiation.                   </P>

 <h4>🔄 Que se passe-t-il après radiation ?</h4>
                  <P><STRONG>Reclassement fiscal automatique</STRONG></P>
 <P>En cas de radiation (sauf pour dépassement du CA), l'ancien auto-entrepreneur doit régulariser ses dettes. Il est automatiquement reclassé au régime réel ou forfaitaire BIC à partir du 1er janvier suivant.
                    </P>
<h4>📝 Quelles sont les dernières modifications ?</h4>
                  <P><STRONG>Évolutions récentes (décembre 2022)</STRONG></P>
 <P>Les modifications apportées en 2022 permettent le renouvellement en ligne, simplifient la radiation définitive et créent un mécanisme de coordination entre la CNSS et le ministère des Finances. L'inscription au registre vaut désormais déclaration d'existence fiscale.</P>
<h4>💡 Points clés à retenir</h4>
                  
 <P>Ce régime représente une opportunité réelle pour tester une activité entrepreneurial avec un minimum de formalités. Sa durée limitée (7 ans maximum) en fait un statut transitoire idéal avant de passer à une structure plus pérenne. La digitalisation complète des procédures facilite grandement la gestion quotidienne.
                    </P>



                    <div class="news-meta" style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--border);">
                        <span><i class="fas fa-user"></i> Rédigé par : Service Social CMS</span>
                        <span><i class="fas fa-clock"></i> Temps de lecture : 4 minutes</span>
                    </div>
                `
            }
        };

        // ===== GESTION DU PARTAGE PAR EMAIL SIMPLIFIÉE =====
        const SHARE_CONFIG = {
            siteUrl: 'https://cmsaccounting.tn',
            siteName: 'CMS Comptable Tunisie',
            twitterHandle: '@cmscomptable',
            cabinetEmail: 'cabinetshilimohamed@gmail.com',
            currentNewsId: null
        };

        // Statistiques de partage (stockées dans localStorage)
        let shareStats = JSON.parse(localStorage.getItem('cms_share_stats')) || {
            'tva-2024': { views: 243, whatsapp: 0, facebook: 0, linkedin: 0, twitter: 0, email: 0, total: 0 },
            'droit-societes': { views: 187, whatsapp: 0, facebook: 0, linkedin: 0, twitter: 0, email: 0, total: 0 },
            'legal-2022': { views: 156, whatsapp: 0, facebook: 0, linkedin: 0, twitter: 0, email: 0, total: 0 }
        };

       // ===== CONFIGURATION AMÉLIORÉE DU CALENDRIER =====
        const APPOINTMENT_CONFIG = {
            APPOINTMENT_DURATION: 30,
            WORKING_HOURS: { 
                start: 8.5,
                end: 15.5
            },
            ALWAYS_BUSY: {
                1: [{ start: 12.5, end: 13.5 }],
                4: [{ start: 12.5, end: 13.5 }]
            },
            TIMEZONE_OFFSET: 1,
            SITE_NAME: "CMS Comptable Tunisie",
            BUSINESS_EMAIL: "contact@cmscomptable.tn",
            CABINET_PHONE: "+216 53 810 911",
            CABINET_ADDRESS: "Avenue Farhat Hached, Bouhajla Kairouan 3180"
        };

        // ===== ÉTAT GLOBAL =====
        const state = {
            currentDate: new Date(),
            selectedDate: null,
            selectedTime: null,
            selectedService: null,
            selectedType: null,
            selectedDayOfWeek: null,
            appointments: JSON.parse(localStorage.getItem('cms_appointments')) || {},
            userPreferences: JSON.parse(localStorage.getItem('cms_preferences')) || {},
            reservedSlots: loadReservedSlots(),
            mobileMenuOpen: false,
            lastScrollY: 0
        };

        // ===== FONCTIONS UTILITAIRES AMÉLIORÉES =====
        function getCurrentTimeInTunis() {
            const now = new Date();
            const tunisOffset = 1;
            const utcTime = now.getTime() + (now.getTimezoneOffset() * 60000);
            return new Date(utcTime + (tunisOffset * 3600000));
        }

        function isTimeInPast(selectedDate, timeString) {
            const now = getCurrentTimeInTunis();
            const [hours, minutes] = timeString.split(':').map(Number);
            
            const selectedDateTime = new Date(selectedDate);
            selectedDateTime.setHours(hours, minutes, 0, 0);
            
            const selectedUTCTime = selectedDateTime.getTime() - (selectedDateTime.getTimezoneOffset() * 60000);
            const nowUTCTime = now.getTime() - (now.getTimezoneOffset() * 60000);
            
            return selectedUTCTime <= nowUTCTime;
        }

        function isDateInPast(dateString) {
            const now = getCurrentTimeInTunis();
            const [year, month, day] = dateString.split('-').map(Number);
            
            const selectedDate = new Date(year, month - 1, day);
            const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
            const selected = new Date(selectedDate.getFullYear(), selectedDate.getMonth(), selectedDate.getDate());
            
            return selected < today;
        }

        function isWeekend(dayOfWeek) {
            return dayOfWeek === 0 || dayOfWeek === 6;
        }

        function isWorkingDay(dayOfWeek) {
            return dayOfWeek >= 1 && dayOfWeek <= 5;
        }

        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        // ===== GESTION DES CRÉNEAUX RÉSERVÉS =====
        function loadReservedSlots() {
            const reserved = localStorage.getItem('cms_reserved_slots');
            return reserved ? JSON.parse(reserved) : {};
        }

        function saveReservedSlot(date, time, appointmentData) {
            const reserved = loadReservedSlots();
            const slotKey = `${date}_${time}`;
            reserved[slotKey] = appointmentData;
            localStorage.setItem('cms_reserved_slots', JSON.stringify(reserved));
            return slotKey;
        }

        function isSlotReserved(date, time) {
            const reserved = loadReservedSlots();
            const slotKey = `${date}_${time}`;
            return !!reserved[slotKey];
        }

        function getReservedSlotsForDate(date) {
            const reserved = loadReservedSlots();
            const slots = [];
            
            Object.keys(reserved).forEach(key => {
                if (key.startsWith(date + '_')) {
                    const time = key.split('_')[1];
                    slots.push({
                        time: time,
                        data: reserved[key]
                    });
                }
            });
            
            return slots;
        }

        // ===== FONCTION POUR NETTOYER LES ANCIENS CRÉNEAUX =====
        function cleanupOldSlots() {
            const now = getCurrentTimeInTunis();
            const reserved = loadReservedSlots();
            const updatedReserved = {};
            
            Object.keys(reserved).forEach(key => {
                const [date, time] = key.split('_');
                const [hours, minutes] = time.split(':').map(Number);
                const appointmentTime = new Date(date);
                appointmentTime.setHours(hours, minutes, 0, 0);
                
                const twentyFourHoursLater = new Date(now.getTime() + 24 * 60 * 60 * 1000);
                if (appointmentTime > twentyFourHoursLater) {
                    updatedReserved[key] = reserved[key];
                }
            });
            
            localStorage.setItem('cms_reserved_slots', JSON.stringify(updatedReserved));
            return updatedReserved;
        }

        // ===== INITIALISATION =====
        document.addEventListener('DOMContentLoaded', () => {
            initializeApp();
            setupEventListeners();
            setupSmoothScrolling();
            setupNavHighlight();
            updateBackToTop();
            initializeShareCounts();
            initializeMobileMenu();
            setupScrollAnimations();
        });

        function initializeApp() {
            cleanupOldSlots();
            renderCalendar();
            loadUserPreferences();
            initEmailJS();
            updateCalendarAvailability();
        }

        function initializeShareCounts() {
            Object.keys(shareStats).forEach(newsId => {
                updateShareCounts(newsId);
            });
        }

        function updateShareCounts(newsId) {
            const stats = shareStats[newsId];
            if (!stats) return;
            
            const shareCountElement = document.getElementById(`share-count-${newsId}`);
            const totalSharesElement = document.getElementById(`total-shares-${newsId}`);
            
            if (shareCountElement) {
                shareCountElement.textContent = `${stats.total} partage${stats.total > 1 ? 's' : ''}`;
            }
            
            if (totalSharesElement) {
                totalSharesElement.textContent = stats.total;
            }
            
            updateModalShareStats(newsId);
        }

        // ===== MENU MOBILE INTERACTIF ET MODERNE =====
        function initializeMobileMenu() {
            const mobileNavItems = [
                { href: '#accueil', text: 'Accueil', icon: 'fas fa-home' },
                { href: '#cabinet', text: 'Notre Cabinet', icon: 'fas fa-building' },
                { href: '#services', text: 'Nos Services', icon: 'fas fa-briefcase' },
               
                { href: '#processus', text: 'Processus', icon: 'fas fa-cogs' },
                
                { href: '#rendezvous', text: 'Rendez-vous', icon: 'fas fa-calendar-check' },
                { href: '#contact', text: 'Contact', icon: 'fas fa-envelope' }
            ];
            
            const mobileNavMenu = document.getElementById('mobileNavMenu');
            mobileNavMenu.innerHTML = '';
            
            mobileNavItems.forEach((item, index) => {
                const li = document.createElement('li');
                li.className = 'mobile-nav-item';
                li.style.setProperty('--item-index', index);
                
                const a = document.createElement('a');
                a.href = item.href;
                a.className = 'mobile-nav-link';
                a.innerHTML = `
                    <i class="${item.icon}"></i>
                    <span>${item.text}</span>
                `;
                
                a.addEventListener('click', (e) => {
                    e.preventDefault();
                    closeMobileMenu();
                    setTimeout(() => {
                        scrollToSection(item.href.substring(1));
                    }, 300);
                });
                
                li.appendChild(a);
                mobileNavMenu.appendChild(li);
            });
            
            // Animer l'apparition des éléments après un délai
            setTimeout(() => {
                document.querySelectorAll('.mobile-nav-item').forEach((item, index) => {
                    setTimeout(() => {
                        item.classList.add('active');
                    }, index * 50);
                });
                
                setTimeout(() => {
                    document.getElementById('mobileDivider').classList.add('active');
                    document.getElementById('mobileContact').classList.add('active');
                    document.getElementById('mobileCta').classList.add('active');
                }, 400);
            }, 100);
        }

        function toggleMobileMenu() {
            if (state.mobileMenuOpen) {
                closeMobileMenu();
            } else {
                openMobileMenu();
            }
        }

        function openMobileMenu() {
            state.mobileMenuOpen = true;
            document.getElementById('mobileMenuBtn').classList.add('active');
            document.getElementById('mobileMenuOverlay').classList.add('active');
            document.getElementById('mobileMenuContainer').classList.add('active');
            document.body.classList.add('menu-open');
            document.body.style.overflow = 'hidden';
            
            // Empêcher le défilement de l'arrière-plan
            document.addEventListener('touchmove', preventScroll, { passive: false });
            
            // Focus trap pour l'accessibilité
            trapFocus(document.getElementById('mobileMenuContainer'));
        }

        function closeMobileMenu() {
            state.mobileMenuOpen = false;
            document.getElementById('mobileMenuBtn').classList.remove('active');
            document.getElementById('mobileMenuOverlay').classList.remove('active');
            document.getElementById('mobileMenuContainer').classList.remove('active');
            document.body.classList.remove('menu-open');
            document.body.style.overflow = '';
            
            // Réactiver le défilement
            document.removeEventListener('touchmove', preventScroll);
            
            // Retourner le focus au bouton du menu
            setTimeout(() => {
                document.getElementById('mobileMenuBtn').focus();
            }, 100);
        }

        function preventScroll(e) {
            e.preventDefault();
        }

        function trapFocus(element) {
            const focusableElements = element.querySelectorAll(
                'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
            );
            const firstFocusableElement = focusableElements[0];
            const lastFocusableElement = focusableElements[focusableElements.length - 1];
            
            element.addEventListener('keydown', function(e) {
                if (e.key === 'Tab') {
                    if (e.shiftKey) {
                        if (document.activeElement === firstFocusableElement) {
                            e.preventDefault();
                            lastFocusableElement.focus();
                        }
                    } else {
                        if (document.activeElement === lastFocusableElement) {
                            e.preventDefault();
                            firstFocusableElement.focus();
                        }
                    }
                }
                
                if (e.key === 'Escape') {
                    closeMobileMenu();
                }
            });
            
            // Focus sur le premier élément
            setTimeout(() => {
                firstFocusableElement.focus();
            }, 100);
        }

        // ===== GESTIONNAIRES D'ÉVÉNEMENTS AMÉLIORÉS =====
        function setupEventListeners() {
            // Menu mobile
            document.getElementById('mobileMenuBtn').addEventListener('click', toggleMobileMenu);
            document.getElementById('mobileMenuClose').addEventListener('click', closeMobileMenu);
            document.getElementById('mobileMenuOverlay').addEventListener('click', closeMobileMenu);
            
            // Navigation mobile (déjà gérée dans initializeMobileMenu)
            
            // Formulaire de rendez-vous
            document.getElementById('appointmentForm').addEventListener('submit', handleAppointmentSubmit);
            
            // Gestion des services
            document.querySelectorAll('.service-option[data-service]').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.service-option[data-service]').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    state.selectedService = this.getAttribute('data-service');
                });
            });
            
            // Gestion des types de rendez-vous
            document.querySelectorAll('.service-option[data-type]').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.service-option[data-type]').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    state.selectedType = this.getAttribute('data-type');
                });
            });
            
            // Scroll
            window.addEventListener('scroll', handleScroll);
            window.addEventListener('scroll', handleScrollAnimations);
            
            // Back to top
            const backToTop = document.getElementById('backToTop');
            if (backToTop) {
                backToTop.addEventListener('click', scrollToTop);
            }
            
            // Newsletter
            const newsletterForm = document.querySelector('.newsletter-form');
            if (newsletterForm) {
                newsletterForm.addEventListener('submit', handleNewsletterSubmit);
            }
            
            // Fermeture modal avec ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeNewsModal();
                    closeEmailShareModal();
                }
            });
            
            // Fermeture du menu mobile avec ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && state.mobileMenuOpen) {
                    closeMobileMenu();
                }
            });
            
            // Désactiver le zoom sur les mobiles (optionnel)
            document.addEventListener('touchstart', function(event) {
                if (event.touches.length > 1) {
                    event.preventDefault();
                }
            }, { passive: false });
        }

        // ===== NAVIGATION AMÉLIORÉE =====
        function setupSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    if (href === '#') return;
                    
                    const target = document.querySelector(href);
                    if (target) {
                        e.preventDefault();
                        
                        // Fermer le menu mobile s'il est ouvert
                        if (state.mobileMenuOpen) {
                            closeMobileMenu();
                        }
                        
                        const navbarHeight = document.querySelector('.navbar').offsetHeight + 38;
                        const targetPosition = target.offsetTop - navbarHeight - 20;
                        
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }

        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                // Fermer le menu mobile s'il est ouvert
                if (state.mobileMenuOpen) {
                    closeMobileMenu();
                }
                
                const navbarHeight = document.querySelector('.navbar').offsetHeight + 38;
                const offset = element.offsetTop - navbarHeight - 20;
                
                window.scrollTo({
                    top: offset,
                    behavior: 'smooth'
                });
            }
        }

        function setupNavHighlight() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-menu a, .mobile-nav-menu a');
            
            function highlightNav() {
                let current = '';
                const scrollPosition = window.scrollY + 140;
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                    
                    if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                        current = section.getAttribute('id');
                    }
                });
                
                // Desktop navigation
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    const href = link.getAttribute('href').replace('#', '');
                    if (href === current) {
                        link.classList.add('active');
                    }
                });
                
                // Mobile navigation
                document.querySelectorAll('.mobile-nav-link').forEach(link => {
                    link.classList.remove('active');
                    const href = link.getAttribute('href').replace('#', '');
                    if (href === current) {
                        link.classList.add('active');
                    }
                });
            }
            
            window.addEventListener('scroll', highlightNav);
            highlightNav();
        }

        // ===== GESTION DU SCROLL AMÉLIORÉE =====
        function handleScroll() {
            // Sur desktop, on ne cache pas la navbar
            if (state.isDesktop) {
                const navbar = document.getElementById('navbar');
                const topBar = document.querySelector('.top-bar');
                
                // Toujours montrer la navbar sur desktop
                if (navbar) {
                    navbar.classList.remove('hidden');
                    if (window.scrollY > 50) {
                        navbar.classList.add('scrolled');
                    } else {
                        navbar.classList.remove('scrolled');
                    }
                }
                
                if (topBar) topBar.style.transform = 'translateY(0)';
                
                updateBackToTop();
                return;
            }
            
            // Comportement normal pour mobile/tablette
            const currentScrollY = window.scrollY;
            const navbar = document.getElementById('navbar');
            const topBar = document.querySelector('.top-bar');
            
            // Cacher/montrer la navbar en fonction du scroll
            if (currentScrollY > state.lastScrollY && currentScrollY > 100) {
                // Scrolling down
                navbar.classList.add('hidden');
                if (topBar) topBar.style.transform = 'translateY(-100%)';
            } else {
                // Scrolling up
                navbar.classList.remove('hidden');
                if (topBar) topBar.style.transform = 'translateY(0)';
            }
            
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
            
            state.lastScrollY = currentScrollY;
            updateBackToTop();
        }

        function updateBackToTop() {
            const backToTop = document.getElementById('backToTop');
            if (backToTop) {
                if (window.scrollY > 300) {
                    backToTop.style.display = 'flex';
                } else {
                    backToTop.style.display = 'none';
                }
            }
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // ===== ANIMATIONS AU SCROLL =====
        function setupScrollAnimations() {
            const sections = document.querySelectorAll('section');
            
            sections.forEach(section => {
                section.classList.add('section-animate');
            });
            
            // Observer pour les animations
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });
            
            sections.forEach(section => {
                observer.observe(section);
            });
        }

        function handleScrollAnimations() {
            // Animation pour les statistiques
            const stats = document.querySelectorAll('.stat-number');
            if (stats.length > 0) {
                const heroSection = document.querySelector('.hero');
                const rect = heroSection.getBoundingClientRect();
                
                if (rect.top < window.innerHeight * 0.75 && rect.bottom > 0) {
                    stats.forEach((stat, index) => {
                        setTimeout(() => {
                            animateCounter(stat);
                        }, index * 200);
                    });
                }
            }
        }

        function animateCounter(element) {
            const target = parseInt(element.getAttribute('data-target') || element.textContent);
            const duration = 1500;
            const startTime = Date.now();
            
            function update() {
                const currentTime = Date.now();
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // Easing function
                const easeOutQuart = 1 - Math.pow(1 - progress, 4);
                
                const currentValue = Math.floor(easeOutQuart * target);
                element.textContent = currentValue;
                
                if (progress < 1) {
                    requestAnimationFrame(update);
                } else {
                    element.textContent = target;
                }
            }
            
            update();
        }

        // ===== GESTION DU CALENDRIER AMÉLIORÉE =====
        function renderCalendar() {
            const calendar = document.getElementById('calendar');
            const calendarHeaders = document.getElementById('calendarHeaders');
            const monthYear = document.getElementById('currentMonth');
            
            const months = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 
                           'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'];
            const days = ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'];
            
            const currentMonth = state.currentDate.getMonth();
            const currentYear = state.currentDate.getFullYear();
            monthYear.textContent = `${months[currentMonth]} ${currentYear}`;
            
            calendarHeaders.innerHTML = '';
            days.forEach(day => {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day-header';
                dayElement.textContent = day;
                calendarHeaders.appendChild(dayElement);
            });
            
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const today = getCurrentTimeInTunis();
            const todayDateOnly = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            
            calendar.innerHTML = '';
            
            for (let i = 0; i < firstDay; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'calendar-day unavailable';
                emptyDay.textContent = '';
                calendar.appendChild(emptyDay);
            }
            
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                const fullDate = new Date(currentYear, currentMonth, day);
                const dateString = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const dayOfWeek = fullDate.getDay();
                
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;
                dayElement.dataset.fullDate = dateString;
                dayElement.dataset.dayOfWeek = dayOfWeek;
                
                const elementDateOnly = new Date(currentYear, currentMonth, day);
                
                if (elementDateOnly.getTime() === todayDateOnly.getTime()) {
                    dayElement.classList.add('today');
                }
                
                const isPastDate = elementDateOnly < todayDateOnly;
                const isWeekendDay = isWeekend(dayOfWeek);
                
                if (isPastDate) {
                    dayElement.className = 'calendar-day past';
                    dayElement.title = 'Date passée';
                    dayElement.style.cursor = 'not-allowed';
                } 
                else if (isWeekendDay) {
                    dayElement.className = 'calendar-day weekend';
                    dayElement.title = 'Pas de rendez-vous le week-end';
                    dayElement.style.cursor = 'not-allowed';
                }
                else if (isWorkingDay(dayOfWeek)) {
                    const hasAvailableSlots = checkAvailableSlotsForDate(dateString, dayOfWeek);
                    
                    if (hasAvailableSlots) {
                        dayElement.className = 'calendar-day available';
                        dayElement.title = 'Cliquez pour voir les horaires disponibles';
                        
                        dayElement.addEventListener('click', function() {
                            selectDate(this);
                        });
                    } else {
                        dayElement.className = 'calendar-day unavailable';
                        dayElement.title = 'Aucun créneau disponible';
                        dayElement.style.cursor = 'not-allowed';
                    }
                } 
                else {
                    dayElement.className = 'calendar-day unavailable';
                    dayElement.title = 'Indisponible';
                    dayElement.style.cursor = 'not-allowed';
                }
                
                calendar.appendChild(dayElement);
            }
        }

        function checkAvailableSlotsForDate(date, dayOfWeek) {
            const now = getCurrentTimeInTunis();
            const isToday = new Date(date).toDateString() === now.toDateString();
            
            for (let hour = Math.floor(APPOINTMENT_CONFIG.WORKING_HOURS.start); hour <= Math.floor(APPOINTMENT_CONFIG.WORKING_HOURS.end); hour++) {
                for (let minute = (hour === Math.floor(APPOINTMENT_CONFIG.WORKING_HOURS.start) ? 30 : 0); 
                     minute < 60; 
                     minute += APPOINTMENT_CONFIG.APPOINTMENT_DURATION) {
                    
                    const timeDecimal = hour + (minute / 60);
                    if (timeDecimal > APPOINTMENT_CONFIG.WORKING_HOURS.end) break;
                    
                    const timeString = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
                    
                    let isAlwaysBusy = false;
                    if (APPOINTMENT_CONFIG.ALWAYS_BUSY[dayOfWeek]) {
                        APPOINTMENT_CONFIG.ALWAYS_BUSY[dayOfWeek].forEach(busySlot => {
                            if (timeDecimal >= busySlot.start && timeDecimal < busySlot.end) {
                                isAlwaysBusy = true;
                            }
                        });
                    }
                    
                    if (isAlwaysBusy) continue;
                    
                    if (isSlotReserved(date, timeString)) continue;
                    
                    if (isToday && isTimeInPast(date, timeString)) continue;
                    
                    return true;
                }
            }
            
            return false;
        }

        function selectDate(dateElement) {
            if (dateElement.classList.contains('unavailable') || 
                dateElement.classList.contains('weekend') || 
                dateElement.classList.contains('past')) {
                
                const date = new Date(dateElement.dataset.fullDate);
                const dayName = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'][date.getDay()];
                
                // Animation de feedback
                dateElement.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    dateElement.style.transform = '';
                }, 300);
                
                return;
            }
            
            document.querySelectorAll('.calendar-day').forEach(day => {
                day.classList.remove('selected');
            });
            
            dateElement.classList.add('selected');
            state.selectedDate = dateElement.dataset.fullDate;
            state.selectedDayOfWeek = parseInt(dateElement.dataset.dayOfWeek);
            
            showTimeSlots(state.selectedDate, state.selectedDayOfWeek);
        }

        function showTimeSlots(date, dayOfWeek) {
            const timeSelection = document.getElementById('timeSelection');
            const timeSlots = document.getElementById('timeSlots');
            const selectedSlot = document.getElementById('selectedSlot');
            
            timeSelection.style.display = 'block';
            selectedSlot.style.display = 'none';
            
            timeSlots.innerHTML = '';
            state.selectedTime = null;
            
            const now = getCurrentTimeInTunis();
            const isToday = new Date(date).toDateString() === now.toDateString();
            const reservedSlots = getReservedSlotsForDate(date);
            
            let hasAvailableSlots = false;
            
            for (let hour = Math.floor(APPOINTMENT_CONFIG.WORKING_HOURS.start); hour <= Math.floor(APPOINTMENT_CONFIG.WORKING_HOURS.end); hour++) {
                for (let minute = (hour === Math.floor(APPOINTMENT_CONFIG.WORKING_HOURS.start) ? 30 : 0); 
                     minute < 60; 
                     minute += APPOINTMENT_CONFIG.APPOINTMENT_DURATION) {
                    
                    const timeDecimal = hour + (minute / 60);
                    if (timeDecimal > APPOINTMENT_CONFIG.WORKING_HOURS.end) break;
                    
                    const timeString = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
                    const timeSlot = document.createElement('div');
                    timeSlot.className = 'time-slot';
                    timeSlot.textContent = timeString;
                    timeSlot.dataset.time = timeString;
                    timeSlot.dataset.timeDecimal = timeDecimal;
                    
                    let isAlwaysBusy = false;
                    
                    if (APPOINTMENT_CONFIG.ALWAYS_BUSY[dayOfWeek]) {
                        APPOINTMENT_CONFIG.ALWAYS_BUSY[dayOfWeek].forEach(busySlot => {
                            if (timeDecimal >= busySlot.start && timeDecimal < busySlot.end) {
                                isAlwaysBusy = true;
                            }
                        });
                    }
                    
                    const isBooked = isSlotReserved(date, timeString);
                    const isPast = isToday && isTimeInPast(date, timeString);
                    
                    if (isAlwaysBusy) {
                        timeSlot.classList.add('disabled');
                        timeSlot.style.display = 'none';
                    } 
                    else if (isBooked) {
                        timeSlot.classList.add('booked');
                        timeSlot.title = 'Déjà réservé';
                        timeSlot.style.cursor = 'not-allowed';
                    }
                    else if (isPast) {
                        timeSlot.classList.add('past');
                        timeSlot.title = 'Créneau passé';
                        timeSlot.style.cursor = 'not-allowed';
                        timeSlot.style.opacity = '0.5';
                    }
                    else {
                        hasAvailableSlots = true;
                        timeSlot.addEventListener('click', function() {
                            selectTime(this);
                        });
                        timeSlot.title = 'Disponible - Cliquez pour sélectionner';
                    }
                    
                    timeSlots.appendChild(timeSlot);
                }
            }
            
            if (!hasAvailableSlots) {
                const noSlotsMessage = document.createElement('div');
                noSlotsMessage.style.gridColumn = '1 / -1';
                noSlotsMessage.style.textAlign = 'center';
                noSlotsMessage.style.padding = '20px';
                noSlotsMessage.style.color = 'var(--gray-500)';
                noSlotsMessage.style.fontStyle = 'italic';
                noSlotsMessage.textContent = 'Aucun créneau disponible pour cette date';
                timeSlots.appendChild(noSlotsMessage);
            }
        }

        function selectTime(timeElement) {
            if (timeElement.classList.contains('booked') || timeElement.classList.contains('past')) {
                // Animation de feedback
                timeElement.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    timeElement.style.transform = '';
                }, 300);
                return;
            }
            
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.classList.remove('selected');
            });
            
            timeElement.classList.add('selected');
            state.selectedTime = timeElement.textContent;
            
            const selectedSlot = document.getElementById('selectedSlot');
            const selectedSlotText = document.getElementById('selectedSlotText');
            
            const date = new Date(state.selectedDate);
            const correctedDate = new Date(date.getTime() - (date.getTimezoneOffset() * 60000));
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const dateString = correctedDate.toLocaleDateString('fr-FR', options);
            
            selectedSlotText.textContent = `${dateString} à ${state.selectedTime} - Consultation de 30 minutes`;
            selectedSlot.style.display = 'block';
            
            selectedSlot.scrollIntoView({ 
                behavior: 'smooth',
                block: 'nearest'
            });
        }

        function changeMonth(direction) {
            state.currentDate.setMonth(state.currentDate.getMonth() + direction);
            renderCalendar();
            resetCalendarSelection();
        }

        function resetCalendarSelection() {
            state.selectedDate = null;
            state.selectedTime = null;
            state.selectedDayOfWeek = null;
            document.querySelectorAll('.calendar-day, .time-slot').forEach(el => {
                el.classList.remove('selected');
            });
            document.getElementById('timeSelection').style.display = 'none';
            document.getElementById('selectedSlot').style.display = 'none';
        }

        // ===== GESTION DU FORMULAIRE DE RENDEZ-VOUS =====
        async function handleAppointmentSubmit(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitBtn');
            const loading = document.getElementById('loading');
            const confirmationMessage = document.getElementById('confirmationMessage');
            const errorMessage = document.getElementById('errorMessage');
            const successMessage = document.getElementById('successMessage');
            
            if (!validateForm()) {
                return;
            }
            
            confirmationMessage.style.display = 'none';
            errorMessage.style.display = 'none';
            successMessage.style.display = 'none';
            
            submitBtn.disabled = true;
            loading.style.display = 'block';
            
            try {
                const formData = getFormData();
                
                if (isSlotReserved(formData.date, formData.time)) {
                    alert('Ce créneau a déjà été réservé. Veuillez en choisir un autre.');
                    resetCalendarSelection();
                    return;
                }
                
                await processAppointment(formData);
                showSuccess(formData.email);
                resetForm();
                
            } catch (error) {
                console.error('Erreur:', error);
                showError('Une erreur est survenue. Votre demande a été enregistrée localement.');
                resetForm();
            } finally {
                submitBtn.disabled = false;
                loading.style.display = 'none';
            }
        }

        function getFormData() {
            return {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                company: document.getElementById('company').value,
                meetingType: state.selectedType,
                service: state.selectedService,
                message: document.getElementById('message').value,
                date: state.selectedDate,
                time: state.selectedTime,
                timestamp: new Date().toISOString(),
                appointmentId: generateAppointmentId()
            };
        }

        function validateForm() {
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            
            if (!name || !email || !phone) {
                alert('Veuillez remplir tous les champs obligatoires (*).');
                return false;
            }
            
            if (!state.selectedService) {
                alert('Veuillez sélectionner un service.');
                return false;
            }
            
            if (!state.selectedType) {
                alert('Veuillez sélectionner un type de rendez-vous.');
                return false;
            }
            
            if (!state.selectedDate || !state.selectedTime) {
                alert('Veuillez sélectionner une date et un horaire pour votre rendez-vous.');
                return false;
            }
            
            if (!isValidEmail(email)) {
                alert('Veuillez entrer une adresse email valide.');
                return false;
            }
            
            if (isDateInPast(state.selectedDate)) {
                alert('La date sélectionnée est passée. Veuillez choisir une date future.');
                return false;
            }
            
            if (isWeekend(state.selectedDayOfWeek)) {
                alert('Les rendez-vous ne sont pas disponibles le week-end. Veuillez choisir un jour en semaine.');
                return false;
            }
            
            if (!isWorkingDay(state.selectedDayOfWeek)) {
                alert('Veuillez choisir un jour de travail (lundi à vendredi).');
                return false;
            }
            
            return true;
        }

        async function processAppointment(formData) {
            const slotKey = saveReservedSlot(formData.date, formData.time, {
                clientName: formData.name,
                clientEmail: formData.email,
                timestamp: new Date().toISOString()
            });
            
            state.appointments[slotKey] = formData;
            localStorage.setItem('cms_appointments', JSON.stringify(state.appointments));
            
            const timeSlot = document.querySelector(`.time-slot[data-time="${formData.time}"]`);
            if (timeSlot && !timeSlot.classList.contains('disabled')) {
                timeSlot.classList.remove('selected');
                timeSlot.classList.add('booked');
                timeSlot.title = 'Déjà réservé';
                timeSlot.style.cursor = 'not-allowed';
            }
            
            try {
                await sendEmails(formData);
                console.log('✅ Emails envoyés avec succès');
            } catch (emailError) {
                console.warn('⚠️ Erreur lors de l\'envoi des emails:', emailError);
            }
            
            updateCalendarAvailability();
            
            return Promise.resolve();
        }

        function updateCalendarAvailability() {
            const days = document.querySelectorAll('.calendar-day');
            days.forEach(day => {
                const dateString = day.dataset.fullDate;
                const dayOfWeek = parseInt(day.dataset.dayOfWeek);
                
                if (dateString && isWorkingDay(dayOfWeek)) {
                    const hasAvailableSlots = checkAvailableSlotsForDate(dateString, dayOfWeek);
                    
                    if (!hasAvailableSlots && day.classList.contains('available')) {
                        day.className = 'calendar-day unavailable';
                        day.title = 'Aucun créneau disponible';
                        day.style.cursor = 'not-allowed';
                        day.onclick = null;
                    }
                }
            });
        }

        function initEmailJS() {
            if (EMAILJS_CONFIG.PUBLIC_KEY && EMAILJS_CONFIG.PUBLIC_KEY !== "YOUR_PUBLIC_KEY_HERE") {
                emailjs.init(EMAILJS_CONFIG.PUBLIC_KEY);
                console.log("✅ EmailJS initialisé avec succès");
                return true;
            } else {
                console.warn("⚠️ EmailJS non configuré - Utilisation du mode simulation");
                return false;
            }
        }

        async function sendEmails(formData) {
            const emailjsConfigured = EMAILJS_CONFIG.PUBLIC_KEY && 
                                     EMAILJS_CONFIG.PUBLIC_KEY !== "YOUR_PUBLIC_KEY_HERE" &&
                                     EMAILJS_CONFIG.SERVICE_ID !== "YOUR_SERVICE_ID_HERE";
            
            if (!emailjsConfigured) {
                console.log('📧 Mode simulation activé (EmailJS non configuré)');
                simulateEmailSending(formData);
                return;
            }
            
            try {
                await sendEmailToCabinet(formData);
                await sendConfirmationToClient(formData);
                
            } catch (error) {
                console.error('❌ Erreur EmailJS:', error);
                throw error;
            }
        }

        async function sendEmailToCabinet(formData) {
            try {
                const templateParams = {
                    client_name: formData.name,
                    client_email: formData.email,
                    client_phone: formData.phone,
                    company: formData.company || 'Non spécifié',
                    service_type: formData.service,
                    appointment_type: formData.meetingType,
                    appointment_date: formatDateForEmail(formData.date),
                    appointment_time: formData.time,
                    client_message: formData.message || 'Aucun message additionnel',
                    to_email: APPOINTMENT_CONFIG.BUSINESS_EMAIL,
                    timestamp: new Date().toLocaleString('fr-FR'),
                    appointment_id: formData.appointmentId
                };

                const response = await emailjs.send(
                    EMAILJS_CONFIG.SERVICE_ID,
                    EMAILJS_CONFIG.TEMPLATE_CABINET,
                    templateParams
                );
                
                console.log('📧 Email cabinet envoyé:', response.status, response.text);
                return response;
                
            } catch (error) {
                console.error('❌ Erreur envoi email cabinet:', error);
                throw error;
            }
        }

        async function sendConfirmationToClient(formData) {
            try {
                const templateParams = {
                    client_name: formData.name,
                    client_email: formData.email,
                    service_type: formData.service,
                    appointment_type: formData.meetingType,
                    appointment_date: formatDateForEmail(formData.date),
                    appointment_time: formData.time,
                    cabinet_phone: APPOINTMENT_CONFIG.CABINET_PHONE,
                    cabinet_email: APPOINTMENT_CONFIG.BUSINESS_EMAIL,
                    cabinet_address: APPOINTMENT_CONFIG.CABINET_ADDRESS,
                    cabinet_name: APPOINTMENT_CONFIG.SITE_NAME,
                    to_email: formData.email,
                    appointment_id: formData.appointmentId
                };

                const response = await emailjs.send(
                    EMAILJS_CONFIG.SERVICE_ID,
                    EMAILJS_CONFIG.TEMPLATE_CLIENT,
                    templateParams
                );
                
                console.log('📧 Email client envoyé:', response.status, response.text);
                return response;
                
            } catch (error) {
                console.error('❌ Erreur envoi email client:', error);
                throw error;
            }
        }

        function formatDateForEmail(dateString) {
            const [year, month, day] = dateString.split('-').map(Number);
            const date = new Date(year, month - 1, day);
            
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                timeZone: 'Africa/Tunis'
            };
            
            return date.toLocaleDateString('fr-FR', options);
        }

        function simulateEmailSending(formData) {
            console.log('📧 SIMULATION - Email au cabinet:', {
                to: APPOINTMENT_CONFIG.BUSINESS_EMAIL,
                subject: `Nouveau Rendez-vous - ${formData.name}`,
                body: `Nom: ${formData.name}
Email: ${formData.email}
Téléphone: ${formData.phone}
Entreprise: ${formData.company || 'Non spécifié'}

Service: ${formData.service}
Type: ${formData.meetingType}
Date: ${formData.date}
Heure: ${formData.time}

Message: ${formData.message || 'Aucun message'}

ID Rendez-vous: ${formData.appointmentId}
Timestamp: ${formData.timestamp}`
            });
            
            console.log('📧 SIMULATION - Email au client:', {
                to: formData.email,
                subject: `Confirmation de rendez-vous - ${APPOINTMENT_CONFIG.SITE_NAME}`,
                body: `Bonjour ${formData.name},

Votre demande de rendez-vous a bien été enregistrée.

📅 Date: ${formatDateForEmail(formData.date)}
⏰ Heure: ${formData.time}
💼 Service: ${formData.service}
📞 Type: ${formData.meetingType}

Notre équipe vous contactera sous peu pour finaliser les détails.

Pour toute question, contactez-nous :
📞 ${APPOINTMENT_CONFIG.CABINET_PHONE}
📧 ${APPOINTMENT_CONFIG.BUSINESS_EMAIL}
📍 ${APPOINTMENT_CONFIG.CABINET_ADDRESS}

Cordialement,
L'équipe ${APPOINTMENT_CONFIG.SITE_NAME}`
            });
            
            return new Promise(resolve => setTimeout(resolve, 1000));
        }

        function generateAppointmentId() {
            return 'RDV_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9).toUpperCase();
        }

        function showSuccess(email) {
            const confirmationMessage = document.getElementById('confirmationMessage');
            document.getElementById('confirmEmail').textContent = email;
            confirmationMessage.style.display = 'block';
            
            confirmationMessage.scrollIntoView({ 
                behavior: 'smooth',
                block: 'center'
            });
        }

        function showError(message) {
            const errorMessage = document.getElementById('errorMessage');
            errorMessage.querySelector('p').textContent = message;
            errorMessage.style.display = 'block';
            errorMessage.scrollIntoView({ 
                behavior: 'smooth',
                block: 'center'
            });
        }

        function resetForm() {
            document.getElementById('name').value = '';
            document.getElementById('email').value = '';
            document.getElementById('phone').value = '';
            document.getElementById('company').value = '';
            document.getElementById('message').value = '';
            
            document.querySelectorAll('.service-option[data-service]').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            document.querySelectorAll('.service-option[data-type]').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            document.querySelectorAll('.calendar-day').forEach(d => {
                d.classList.remove('selected');
            });
            
            document.querySelectorAll('.time-slot').forEach(ts => {
                if (!ts.classList.contains('booked') && !ts.classList.contains('disabled')) {
                    ts.classList.remove('selected');
                }
            });
            
            state.selectedService = null;
            state.selectedType = null;
            state.selectedDate = null;
            state.selectedTime = null;
            state.selectedDayOfWeek = null;
        }

        // ===== GESTION DES ACTUALITÉS AVEC PARTAGE EMAIL SIMPLIFIÉ =====
        function getShareUrl(newsId, platform = 'default') {
            const news = newsData[newsId];
            if (!news) return SHARE_CONFIG.siteUrl;
            
            const articleUrl = `${SHARE_CONFIG.siteUrl}/actualites/${newsId}`;
            const encodedTitle = encodeURIComponent(news.title);
            const encodedDescription = encodeURIComponent(news.description);
            const encodedUrl = encodeURIComponent(articleUrl);
            
            switch(platform) {
                case 'whatsapp':
                    return `https://wa.me/?text=${encodedTitle}%0A%0A${encodedDescription}%0A%0A${encodedUrl}`;
                
                case 'facebook':
                    return `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}&quote=${encodedTitle}`;
                
                case 'linkedin':
                    return `https://www.linkedin.com/sharing/share-offsite/?url=${encodedUrl}&title=${encodedTitle}&summary=${encodedDescription}`;
                
                case 'twitter':
                    return `https://twitter.com/intent/tweet?url=${encodedUrl}&text=${encodedTitle}&via=${SHARE_CONFIG.twitterHandle}`;
                
                case 'email':
                    const subject = encodeURIComponent(`${news.title} - ${SHARE_CONFIG.siteName}`);
                    const body = encodeURIComponent(`Bonjour,\n\nJe vous partage cet article qui pourrait vous intéresser :\n\n${news.title}\n${news.description}\n\nLire l'article complet : ${articleUrl}\n\nCordialement,\n${SHARE_CONFIG.siteName}`);
                    return `mailto:${SHARE_CONFIG.cabinetEmail}?subject=${subject}&body=${body}`;
                
                default:
                    return articleUrl;
            }
        }

        function shareNews(newsId, platform) {
            const stats = shareStats[newsId];
            if (stats) {
                stats[platform] = (stats[platform] || 0) + 1;
                stats.total = (stats.whatsapp || 0) + (stats.facebook || 0) + (stats.linkedin || 0) + (stats.twitter || 0) + (stats.email || 0);
                
                localStorage.setItem('cms_share_stats', JSON.stringify(shareStats));
                updateShareCounts(newsId);
            }
            
            if (platform === 'email') {
                openEmailShareModal(newsId);
            } else {
                const shareUrl = getShareUrl(newsId, platform);
                window.open(shareUrl, '_blank', 'width=600,height=400');
            }
            
            console.log(`Partage ${platform} pour ${newsId}`);
        }

        function openEmailShareModal(newsId) {
            SHARE_CONFIG.currentNewsId = newsId;
            const modal = document.getElementById('emailShareModal');
            const news = newsData[newsId];
            
            if (!news) return;
            
            updateEmailPreview(newsId);
            document.getElementById('emailShareForm').reset();
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            setTimeout(() => {
                document.getElementById('recipientName').focus();
            }, 300);
        }

        function closeEmailShareModal() {
            const modal = document.getElementById('emailShareModal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
            document.getElementById('emailShareForm').reset();
            SHARE_CONFIG.currentNewsId = null;
        }

        function updateEmailPreview(newsId) {
            const news = newsData[newsId];
            if (!news) return;
            
            const preview = document.getElementById('emailPreview');
            const articleUrl = getShareUrl(newsId);
          
        }

        function copyNewsLink(newsId) {
            const link = getShareUrl(newsId);
            
            navigator.clipboard.writeText(link).then(() => {
                const notification = document.getElementById('copyNotification');
                notification.style.display = 'flex';
                
                const stats = shareStats[newsId];
                if (stats) {
                    stats.total += 1;
                    localStorage.setItem('cms_share_stats', JSON.stringify(shareStats));
                    updateShareCounts(newsId);
                }
                
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 3000);
            }).catch(err => {
                console.error('Erreur lors de la copie:', err);
                alert('Impossible de copier le lien. Veuillez le copier manuellement.');
            });
        }

        function updateModalShareStats(newsId) {
            const stats = shareStats[newsId];
            if (!stats) return;
            
            const statsElement = document.getElementById('modalShareStats');
            if (statsElement) {
                statsElement.innerHTML = `
                    <div class="share-stat">
                        <i class="fas fa-eye"></i>
                        <span>${stats.views} vues</span>
                    </div>
                    <div class="share-stat">
                        <i class="fas fa-share-alt"></i>
                        <span>${stats.total} partages</span>
                    </div>
                    <div class="share-stat">
                        <i class="fab fa-whatsapp" style="color: #25D366;"></i>
                        <span>${stats.whatsapp || 0}</span>
                    </div>
                    <div class="share-stat">
                        <i class="fab fa-facebook-f" style="color: #1877F2;"></i>
                        <span>${stats.facebook || 0}</span>
                    </div>
                    <div class="share-stat">
                        <i class="fas fa-envelope" style="color: #EA4335;"></i>
                        <span>${stats.email || 0}</span>
                    </div>
                `;
            }
        }

        document.getElementById('emailShareForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newsId = SHARE_CONFIG.currentNewsId;
            const news = newsData[newsId];
            
            if (!news || !newsId) {
                alert('Erreur : Article non trouvé.');
                return;
            }
            
            const recipientName = document.getElementById('recipientName').value;
            const recipientEmail = document.getElementById('recipientEmail').value;
            const personalMessage = document.getElementById('emailMessage').value;
            
            if (!recipientName || !recipientEmail) {
                alert('Veuillez remplir tous les champs obligatoires.');
                return;
            }
            
            if (!isValidEmail(recipientEmail)) {
                alert('Veuillez entrer une adresse email valide pour le destinataire.');
                return;
            }
            
            const mailtoLink = generateShareMailtoLink(newsId, recipientName, recipientEmail, personalMessage);
            window.location.href = mailtoLink;
            
            const stats = shareStats[newsId];
            if (stats) {
                stats.email = (stats.email || 0) + 1;
                stats.total += 1;
                localStorage.setItem('cms_share_stats', JSON.stringify(shareStats));
                updateShareCounts(newsId);
            }
            
            setTimeout(() => {
                closeEmailShareModal();
                showShareSuccessMessage();
            }, 500);
        });

        function generateShareMailtoLink(newsId, recipientName, recipientEmail, personalMessage) {
            const news = newsData[newsId];
            const articleUrl = getShareUrl(newsId);
            const fromEmail = SHARE_CONFIG.cabinetEmail;
            const subject = encodeURIComponent(`${news.title} - ${SHARE_CONFIG.siteName}`);
            
            let body = `Bonjour ${recipientName},\n\n`;
            
            if (personalMessage) {
                body += `${personalMessage}\n\n`;
            }
            
            body += `Je vous partage cet article qui pourrait vous intéresser :\n\n`;
            body += `${news.title}\n`;
            body += `${news.description}\n\n`;
            body += `Lire l'article complet : ${articleUrl}\n\n`;
            body += `Cordialement,\n${SHARE_CONFIG.siteName}\n`;
            body += `Cabinet CMS Comptable Tunisie\n`;
            body += `Email : ${SHARE_CONFIG.cabinetEmail}\n`;
            body += `Téléphone : +216 53 810 911`;
            
            const encodedBody = encodeURIComponent(body);
            
            return `mailto:${recipientEmail}?subject=${subject}&body=${encodedBody}`;
        }

        function showShareSuccessMessage() {
            const notification = document.createElement('div');
            notification.className = 'copy-notification';
            notification.style.background = 'var(--success)';
            notification.innerHTML = `
                <i class="fas fa-check-circle"></i>
                <span>Votre client mail s'ouvre avec l'article pré-rempli !</span>
            `;
            
            document.body.appendChild(notification);
            notification.style.display = 'flex';
            
            setTimeout(() => {
                notification.style.display = 'none';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        function openNewsModal(newsId) {
            const news = newsData[newsId];
            if (!news) return;
            
            const modal = document.getElementById('newsModal');
            const modalDate = document.getElementById('modalDate');
            const modalTitle = document.getElementById('modalTitle');
            const modalTags = document.getElementById('modalTags');
            const modalBody = document.getElementById('modalBody');
            const modalShareButtons = document.getElementById('modalShareButtons');
            const modalShareSection = document.getElementById('modalShareSection');
            
            modalDate.textContent = news.date;
            modalTitle.textContent = news.title;
            
            modalTags.innerHTML = '';
            news.tags.forEach(tag => {
                const tagElement = document.createElement('span');
                tagElement.className = `news-tag ${tag.toLowerCase()}`;
                tagElement.textContent = tag;
                modalTags.appendChild(tagElement);
            });
            
            modalBody.innerHTML = news.content;
            
            modalShareButtons.innerHTML = `
                <button class="modal-share-btn whatsapp" onclick="shareNews('${newsId}', 'whatsapp')">
                    <i class="fab fa-whatsapp"></i> WhatsApp
                </button>
                <button class="modal-share-btn facebook" onclick="shareNews('${newsId}', 'facebook')">
                    <i class="fab fa-facebook-f"></i> Facebook
                </button>
                <button class="modal-share-btn linkedin" onclick="shareNews('${newsId}', 'linkedin')">
                    <i class="fab fa-linkedin-in"></i> LinkedIn
                </button>
                <button class="modal-share-btn twitter" onclick="shareNews('${newsId}', 'twitter')">
                    <i class="fab fa-twitter"></i> Twitter
                </button>
                <button class="modal-share-btn email" onclick="openEmailShareModal('${newsId}')">
                    <i class="fas fa-envelope"></i> Email
                </button>
                <button class="modal-share-btn copy" onclick="copyNewsLink('${newsId}')">
                    <i class="fas fa-link"></i> Copier le lien
                </button>
            `;
            
            modalShareSection.style.display = 'block';
            updateModalShareStats(newsId);
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            const stats = shareStats[newsId];
            if (stats) {
                stats.views += 1;
                localStorage.setItem('cms_share_stats', JSON.stringify(shareStats));
                updateShareCounts(newsId);
            }
        }

        function closeNewsModal() {
            const modal = document.getElementById('newsModal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        function showAllNews() {
            const allNewsContent = `
                <h3>Toutes nos actualités</h3>
                <p>Retrouvez ici l'ensemble de nos publications et veille réglementaire.</p>
                
                <div style="margin-top: 2rem;">
                    <div style="background: var(--gray-100); padding: 1.5rem; border-radius: 12px; margin-bottom: 1rem;">
                        <h4>${newsData['tva-2024'].title}</h4>
                        <p style="color: var(--gray-600);">${newsData['tva-2024'].date}</p>
                        <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                            <button class="btn btn-primary btn-sm" onclick="openNewsModal('tva-2024')">
                                Lire l'article <i class="fas fa-arrow-right"></i> l'article
                            </button>
                            <button class="btn btn-secondary btn-sm" onclick="openEmailShareModal('tva-2024')">
                                <i class="fas fa-envelope"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div style="background: var(--gray-100); padding: 1.5rem; border-radius: 12px; margin-bottom: 1rem;">
                        <h4>${newsData['droit-societes'].title}</h4>
                        <p style="color: var(--gray-600);">${newsData['droit-societes'].date}</p>
                        <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                            <button class="btn btn-primary btn-sm" onclick="openNewsModal('droit-societes')">
                                Lire l'article <i class="fas fa-arrow-right"></i> l'article
                            </button>
                            <button class="btn btn-secondary btn-sm" onclick="openEmailShareModal('droit-societes')">
                                <i class="fas fa-envelope"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div style="background: var(--gray-100); padding: 1.5rem; border-radius: 12px; margin-bottom: 1rem;">
                        <h4>${newsData['legal-2022'].title}</h4>
                        <p style="color: var(--gray-600);">${newsData['legal-2022'].date}</p>
                        <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                            <button class="btn btn-primary btn-sm" onclick="openNewsModal('legal-2022')">
                                Lire l'article <i class="fas fa-arrow-right"></i> l'article
                            </button>
                            <button class="btn btn-secondary btn-sm" onclick="openEmailShareModal('legal-2022')">
                                <i class="fas fa-envelope"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--border);">
                    <p><strong>Abonnez-vous à notre newsletter</strong> pour recevoir nos actualités directement dans votre boîte email.</p>
                    <button class="btn btn-accent" onclick="document.querySelector('.newsletter-input').focus()">
                        <i class="fas fa-envelope"></i> S'abonner
                    </button>
                </div>
            `;
            
            const modal = document.getElementById('newsModal');
            const modalDate = document.getElementById('modalDate');
            const modalTitle = document.getElementById('modalTitle');
            const modalTags = document.getElementById('modalTags');
            const modalBody = document.getElementById('modalBody');
            const modalShareSection = document.getElementById('modalShareSection');
            
            modalDate.textContent = 'Dernières actualités';
            modalTitle.textContent = 'Toutes nos actualités';
            modalTags.innerHTML = '<span class="news-tag">Toutes</span>';
            modalBody.innerHTML = allNewsContent;
            modalShareSection.style.display = 'none';
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // ===== NEWSLETTER =====
        function handleNewsletterSubmit(e) {
            e.preventDefault();
            const input = e.target.querySelector('input[type="email"]');
            const email = input.value;
            
            if (isValidEmail(email)) {
                console.log('Newsletter subscription:', email);
                alert('Merci pour votre inscription à notre newsletter !');
                input.value = '';
            } else {
                alert('Veuillez entrer une adresse email valide.');
            }
        }

        // ===== GESTION DES PRÉFÉRENCES UTILISATEUR =====
        function loadUserPreferences() {
            if (!state.userPreferences.theme) {
                state.userPreferences.theme = 'light';
                localStorage.setItem('cms_preferences', JSON.stringify(state.userPreferences));
            }
        }

        // ===== FONCTIONS GLOBALES =====
        window.scrollToSection = scrollToSection;
        window.changeMonth = changeMonth;
        window.openNewsModal = openNewsModal;
        window.closeNewsModal = closeNewsModal;
        window.showAllNews = showAllNews;
        window.shareNews = shareNews;
        window.copyNewsLink = copyNewsLink;
        window.openEmailShareModal = openEmailShareModal;
        window.closeEmailShareModal = closeEmailShareModal;
        window.toggleMobileMenu = toggleMobileMenu;
        window.openMobileMenu = openMobileMenu;
        window.closeMobileMenu = closeMobileMenu;

        // Initialisation du scroll
        handleScroll();
        cleanupOldSlots();
        
        // Initialiser les compteurs animés
        setTimeout(() => {
            const statNumbers = document.querySelectorAll('.stat-number');
            statNumbers.forEach(stat => {
                const target = parseInt(stat.textContent);
                stat.setAttribute('data-target', target);
                stat.textContent = '0';
            });
        }, 1000);
        
        console.log('✅ Site CMS Comptable Tunisie initialisé avec succès');
        console.log('📱 Menu mobile interactif activé');
        console.log('💻 Navigation fixée pour desktop (992px+)');
        console.log('📞 Top bar avec contact et badge OCT activée');
        console.log('📅 Calendrier amélioré activé');
        console.log('📢 Système de partage des actualités SIMPLIFIÉ activé');
    </script>
</body>
</html>
